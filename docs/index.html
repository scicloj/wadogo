<!DOCTYPE html>
<html class="overflow-hidden min-h-screen"><head><title>Clerk</title><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><script src="https://cdn.tailwindcss.com?plugins=typography" type="text/javascript"></script><script>tailwind.config = {
  darkMode: "class",
  content: ["./public/build/index.html", "./public/build/**/*.html", "./build/viewer.js"],
  safelist: ['dark'],
  theme: {
    extend: {},
    fontFamily: {
      sans: ["Fira Sans", "-apple-system", "BlinkMacSystemFont", "sans-serif"],
      serif: ["PT Serif", "serif"],
      mono: ["Fira Mono", "monospace"]
    }
  },
  variants: {
    extend: {},
  },
  plugins: [],
}
</script><style type="text/tailwindcss">@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 18px;
  }
  @media (max-width: 600px) {
    html {
      font-size: 16px;
    }
  }
  .font-condensed { font-family: "Fira Sans Condensed", sans-serif; }
  .font-inter     { font-family: "Inter", sans-serif; }
  body {
    @apply font-serif antialiased text-gray-900 sm:overscroll-y-none;
  }
  code, .code {
    @apply font-mono text-sm text-gray-900 bg-slate-50 px-0.5 py-px rounded dark:bg-gray-800;
  }
  code::before, code::after { @apply content-none !important; }
  h1, h3, h4, h5, h6 {
    @apply font-condensed font-bold mt-8 first:mt-0;
  }
  h2 {
    /*We cannot collapse margins due to nesting but we want to*/
    /*keep the h2’s large margin visible*/
    @apply font-condensed font-bold mt-8 first:mt-2;
  }
  h1 { @apply text-4xl; }
  h2 { @apply text-3xl; }
  h3 { @apply text-2xl; }

  button { @apply focus:outline-none; }
  strong { @apply font-bold; }
  em     { @apply italic; }
  pre    { @apply m-0 font-mono; }
}

/* Compatibility */
/* --------------------------------------------------------------- */
/* TODO: Verify which colors are in use and replace with Tailwind
   colors accordingly. Move Nj-specific styles out of here. */

:root {
  --teal-color: #31afd0;
  --dark-teal-color: #095960;
  --near-black-color: #2e2e2c;
  --red-color: #d64242;
  --dark-blue-color: #1f2937;
  --dark-blue-60-color: rgba(28, 42, 56, 0.6);
  --gray-panel-color: rgba(239, 241, 245, 1.000);
  --brand-color: var(--dark-blue-color);
  --link-color: #5046e4;
  --command-bar-selected-color: var(--teal-color);
}

.serif      { @apply font-serif; }
.sans-serif { @apply font-sans; }
.monospace  { @apply font-mono; }
.inter      { @apply font-inter; }

.border-color-teal { border-color: var(--dark-teal-color); }
.teal { color: var(--teal-color); }
.bg-dark-blue { background: var(--dark-blue-color); }
.bg-dark-blue-60 { background: rgba(28, 42, 56, 0.6); }
.bg-gray-panel { background: var(--gray-panel-color); }
.text-dark-blue  { color: var(--dark-blue-color); }
.text-dark-blue-60 { color: var(--dark-blue-60-color); }
.border-dark-blue-30 { border-color: rgba(28, 42, 56, 0.6); }
.text-brand { color: var(--dark-blue-color); }
.bg-brand { background: var(--dark-blue-color); }
.text-selected { color: white; }
.red { color: var(--red-color); }

/* Disclose Button */
/* --------------------------------------------------------------- */

.disclose {
  @apply content-none border-solid cursor-pointer inline-block relative mr-[3px] top-[-2px] transition-all;
  border-color: var(--near-black-color) transparent;
  border-width: 6px 4px 0;
}
.disclose:hover {
  border-color: var(--near-black-color) transparent;
}
.dark .disclose,
.dark .disclose:hover {
  border-color: white transparent;
}
.disclose.collapsed {
  @apply rotate-[-90deg];
}

/* Layout */
/* --------------------------------------------------------------- */

.page {
  @apply max-w-5xl mx-auto px-12 box-border flex-shrink-0;
}
.max-w-prose { @apply max-w-[46rem] !important; }
.max-w-wide  { @apply max-w-3xl !important; }

/* List Styles */
/* --------------------------------------------------------------- */

.task-list-item + .task-list-item,
.viewer-markdown ul ul {
  @apply mt-1 mb-0;
}

/* compact TOC */
.viewer-markdown .toc ul {
  list-style: none;
  @apply my-1;
}

/* Code Viewer */
/* --------------------------------------------------------------- */

.viewer-code {
  @apply font-mono bg-slate-100 rounded-sm text-sm mt-4 overflow-x-auto dark:bg-gray-800;
}
.viewer-code .cm-content {
  @apply py-4 px-8;
}
@media (min-width: 960px){
  .viewer-notebook .viewer-code .cm-content {
    @apply py-4 pl-12;
  }
}
/* Don’t show focus outline when double-clicking cell in Safari */
.cm-scroller { @apply focus:outline-none; }

/* Syntax Highlighting */
/* --------------------------------------------------------------- */

.inspected-value { @apply text-xs font-mono leading-[1.25rem]; }
.cmt-strong, .cmt-heading { @apply font-bold; }
.cmt-emphasis { @apply italic; }
.cmt-strikethrough { @apply line-through; }
.cmt-link { @apply underline; }
.untyped-value { @apply whitespace-nowrap; }

.cm-editor, .cmt-default, .viewer-result {
  @apply text-slate-800 dark:text-slate-300;
}
.cmt-keyword {
  @apply text-purple-800 dark:text-pink-400;
}
.cmt-atom, .cmt-bool, .cmt-url, .cmt-contentSeparator, .cmt-labelName {
  @apply text-blue-900 dark:text-blue-300;
}
.cmt-inserted, .cmt-literal {
  @apply text-emerald-700 dark:text-emerald-200;
}
.cmt-string, .cmt-deleted {
  @apply text-rose-700 dark:text-sky-300;
}
.cmt-regexp, .cmt-escape {
  @apply text-orange-500 dark:text-orange-300;
}
.cmt-variableName {
  @apply text-blue-800 dark:text-sky-300;
}
.cmt-typeName, .cmt-namespace {
  @apply text-emerald-600 dark:text-emerald-300;
}
.cmt-className {
  @apply text-teal-600 dark:text-teal-200;
}
.cmt-macroName {
  @apply text-teal-700 dark:text-teal-200;
}
.cmt-propertyName {
  @apply text-blue-700 dark:text-blue-200;
}
.cmt-comment {
  @apply text-slate-500 dark:text-slate-400;
}
.cmt-meta {
  @apply text-slate-600 dark:text-slate-400;
}
.cmt-invalid {
  @apply text-red-500 dark:text-red-300;
}

.result-data {
  @apply font-mono text-sm overflow-x-auto whitespace-nowrap leading-normal;
}
.result-data::-webkit-scrollbar, .path-nav::-webkit-scrollbar {
  @apply h-0;
}
.result-data-collapsed {
  @apply whitespace-nowrap;
}
.result-data-field {
  @apply ml-4 whitespace-nowrap;
}
.result-data-field-link{
  @apply ml-4 whitespace-nowrap cursor-pointer;
}
.result-data-field-link:hover {
  @apply text-black bg-black/5;
}
.result-text-empty {
  color: rgba(0,0,0,.3);
}
.browsify-button:hover {
  box-shadow: -2px 0 0 2px #edf2f7;
}

/* Prose */
/* --------------------------------------------------------------- */

.viewer-notebook,
.viewer-markdown {
  @apply prose
    dark:prose-invert
    prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline
    dark:prose-a:text-blue-300
    prose-p:mt-4 prose-p:leading-snug
    prose-ol:mt-4 prose-ol:mb-6 prose-ol:leading-snug
    prose-ul:mt-4 prose-ul:mb-6 prose-ul:leading-snug
    prose-blockquote:mt-4 prose-blockquote:leading-snug
    prose-hr:mt-6 prose-hr:border-t-2 prose-hr:border-solid prose-hr:border-slate-200
    prose-figure:mt-4
    prose-figcaption:mt-2 prose-figcaption:text-xs
    prose-headings:mb-4
    prose-table:mt-0
    prose-th:mb-0
    prose-img:my-0
    prose-code:font-medium prose-code:bg-slate-100
    max-w-none;
}
.viewer-markdown blockquote p:first-of-type:before,
.viewer-markdown blockquote p:last-of-type:after {
  @apply content-none;
}

/* Images */
/* --------------------------------------------------------------- */


/* Todo Lists */
/* --------------------------------------------------------------- */

.contains-task-list {
  @apply pl-6 list-none;
}
.contains-task-list input[type="checkbox"] {
  @apply appearance-none h-4 w-4 rounded border border-slate-200 relative mr-[0.3rem] ml-[-1.5rem] top-[0.15rem];
}
.contains-task-list input[type="checkbox"]:checked {
  @apply border-indigo-600 bg-indigo-600 bg-no-repeat bg-contain;
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
}

/* Markdown TOC */
/* --------------------------------------------------------------- */

.viewer-markdown .toc      { @apply mt-4; }
.viewer-markdown h1 + .toc { @apply mt-8; }

.viewer-markdown .toc h1,
.viewer-markdown .toc h2,
.viewer-markdown .toc h3,
.viewer-markdown .toc h4,
.viewer-markdown .toc h5,
.viewer-markdown .toc h6 {
  @apply text-base text-indigo-600 font-sans my-0;
}
.viewer-markdown .toc a {
  @apply text-indigo-600 font-normal no-underline hover:underline;
}
.viewer-markdown .toc li    { @apply m-0; }
.viewer-markdown .toc ul ul { @apply pl-4; }

/* Notebook Spacing */
/* --------------------------------------------------------------- */

.viewer-notebook { @apply py-16; }
#clerk-static-app .viewer-notebook { @apply pt-[0.8rem] pb-16; }
.viewer-markdown *:first-child:not(.viewer-code):not(li):not(h2) { @apply mt-0; }
.viewer + .viewer { @apply mt-6; }
.viewer + .viewer-result { @apply mt-0; }
.viewer-code + .viewer-result { @apply mt-3; }
.viewer-markdown + .viewer-markdown { @apply mt-0; }

/* Sidenotes */
/* --------------------------------------------------------------- */

.sidenote-ref {
  @apply top-[-3px] inline-flex justify-center items-center w-[18px] h-[18px]
    rounded-full bg-slate-100 border border-slate-300 hover:bg-slate-200 hover:border-slate-300
    m-0 ml-[4px] cursor-pointer;
}
.sidenote {
  @apply hidden float-left clear-both mx-[2.5%] my-4 text-xs relative w-[95%];
}
.sidenote-ref.expanded + .sidenote {
  @apply block;
}
@media (min-width: 860px) {
  .sidenote-ref {
    @apply top-[-0.5em] w-auto h-auto inline border-0 bg-transparent m-0 pointer-events-none;
  }
  .sidenote sup { @apply inline; }
  .viewer-markdown .contains-sidenotes p { @apply max-w-[65%]; }
  .viewer-markdown p .sidenote {
    @apply mr-[-54%] mt-[0.2rem] w-1/2 float-right clear-right relative block;
  }
}
.viewer-code + .viewer:not(.viewer-markdown):not(.viewer-code):not(.viewer-code-folded),
.viewer-code-folded + .viewer:not(.viewer-markdown):not(.viewer-code):not(.viewer-code-folded),
.viewer-result + .viewer-result {
  @apply mt-2;
}
.viewer-result {
  @apply leading-tight;
}
@media (min-width: 768px) {
  .devcard-desc > div {
    @apply max-w-full m-0;
  }
}

/* Command Palette */
/* --------------------------------------------------------------- */

.nj-commands-input {
  @apply bg-transparent text-white;
}
.nj-context-menu-item:hover:not([disabled]) {
  @apply cursor-pointer;
  background-color: rgba(255,255,255,.14);
}

/* Devdocs */
/* --------------------------------------------------------------- */

.logo, .logo-white {
  @apply block indent-[-999em];
  background: url(/images/nextjournal-logo.svg) center center no-repeat;
}
.devdocs-body {
  @apply font-inter;
}

/* Workarounds */
/* --------------------------------------------------------------- */

/* Fixes vega viewer resizing into infinity */
.vega-embed .chart-wrapper { @apply h-auto !important; }
/* fixes fraction separators being overridden by tw’s border-color */
.katex * { @apply border-black; }
</style><script src="https://storage.googleapis.com/nextjournal-cas-eu/assets/645JvGoRywAfMCKQ145sbue5nDZjNAxvydtFmG8SSoBrJK4Cy9wuEZg63KdHPQw3Gs3wBMz8kTFppWWV7CFtGVEv-viewer.js" type="text/javascript"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&amp;family=Fira+Mono:wght@400;700&amp;family=Fira+Sans+Condensed:ital,wght@0,700;1,700&amp;family=Fira+Sans:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&amp;family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet" type="text/css"></head><body><div id="clerk-static-app"></div><script>let viewer = nextjournal.clerk.sci_viewer
let app = nextjournal.clerk.static_app
let opts = viewer.read_string("{:paths [\"index.clj\"], :out-path \"docs\", :bundle? true, :path->doc {\"index.clj\" {:nextjournal/viewer {:name :clerk/notebook, :render-fn #viewer-fn v/notebook-viewer}, :nextjournal/value {:blocks [[#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h1\" {:id \"Wadogo%20scales\"} [:span \"Wadogo scales\"]] [:p [:span \"Wadogo is the library which brings various transformations between domain and range (codomain), either continuous or discrete. The idea is based on \"] [:a {:href \"https://github.com/d3/d3-scale\"} [:span \"d3-scale\"]] [:span \" and originally was a part of \"] [:a {:href \"https://github.com/generateme/cljplot\"} [:span \"cljplot\"]] [:span \" library.\"]] [:p [:span \"There are 13 different scales with unified api.\"]] [:p [:em [:span \"The \"] [:code [:span \"wadogo\"]] [:span \" name came up after trying to translate word \"] [:code [:span \"scale\"]] [:span \" into different languages using \"] [:a {:href \"https://translate.google.com/?sl=en&tl=sw&text=scale&op=translate\"} [:span \"google translate\"]] [:span \". Swahili word was very pleasant and was choosen on zulip chat by a community. Funny enough is that \"] [:code [:span \"wadogo\"]] [:span \" doesn't mean \"] [:code [:span \"scale\"]] [:span \" at all but \"] [:code [:span \"small\"]] [:span \" or \"] [:code [:span \"little\"]] [:span \". Translator failed here.\"]]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code-folded, :render-fn #viewer-fn v/foldable-code-viewer}, :nextjournal/value \"^{::clerk/visibility :fold ::clerk/viewer :hide-result}\\n(defn cont->cont\\n  ([scale] (cont->cont scale {}))\\n  ([scale {:keys [w h]\\n           :or {w 400 h 200}}]\\n   (let [x1 (first (s/domain scale))\\n         x2 (last (s/domain scale))]\\n     {:mode \\\"vega-lite\\\"\\n      :width w\\n      :height h\\n      :data {:values (map (partial zipmap [:domain :range])\\n                          (map #(vector % (scale %)) (m/slice-range x1 x2 80)))}\\n      :mark \\\"line\\\" \\n      :encoding {:x {:field \\\"domain\\\" :type \\\"quantitative\\\" :axis {:values (s/format scale)}}\\n                 :y {:field \\\"range\\\" :type \\\"quantitative\\\"}}})))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code-folded, :render-fn #viewer-fn v/foldable-code-viewer}, :nextjournal/value \"^{::clerk/visibility :fold ::clerk/viewer :hide-result}\\n(defn cont->discrete\\n  [scale selector]\\n  (let [y (s/range scale)\\n        x (selector scale)]\\n    {:mode \\\"vega-lite\\\"\\n     :width 400 :height 200\\n     :data {:values (map (fn [x y]\\n                           {:y y :x1 (first x) :x2 (second x)}) x y)}\\n     :mark \\\"bar\\\"\\n     :encoding {:y {:field \\\"y\\\" :type \\\"ordinal\\\"}\\n                :x {:field \\\"x1\\\" :type \\\"quantitative\\\"}\\n                :x2 {:field \\\"x2\\\"}}}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code-folded, :render-fn #viewer-fn v/foldable-code-viewer}, :nextjournal/value \"^{::clerk/visibility :fold ::clerk/viewer :hide-result}\\n(defn bands-chart\\n  [scales]\\n  {:mode \\\"vega-lite\\\"\\n   :width 500 :height 200\\n   :data {:values (mapcat (fn [scale]\\n                            (let [n (s/data scale :name)]\\n                              (map #(assoc % :name n) (s/data scale :bands)))) scales)}\\n   :encoding {:y {:field \\\"name\\\"\\n                  :axis {:title nil}}\\n              :x {:type \\\"quantitative\\\"\\n                  :axis {:title nil}}}\\n   :layer [{:mark \\\"rule\\\"\\n            :encoding {:x {:field \\\"rstart\\\"}\\n                       :x2 {:field \\\"rend\\\"}}}\\n           {:mark {:type \\\"circle\\\"\\n                   :stroke \\\"green\\\"\\n                   :opacity 0.9}\\n            :encoding {:x {:field \\\"point\\\"}}}]})\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h2\" {:id \"Scales\"} [:span \"Scales\"]] [:p [:span \"The scale is a structure which helps to transform one set of values into another. There are many different ways of mapping between domain and range, collected in the table below.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"scale kind\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"domain\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"range\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"info\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :linear, :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"continuous, numerical\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"continuous, numerical\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"linear\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :log, :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"continuous, numerical, positive values\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 1 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"continuous, numerical\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 1 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"logarithmic, base=10.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 1 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :symlog, :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"continuous, numerical\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 2 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"continuous, numerical\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 2 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"logarithmic (symmetric), base=10.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 2 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :pow, :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 3 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"continuous, numerical\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 3 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"continuous, numerical\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 3 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"power, exponent=0.5\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 3 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 3]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :interpolated, :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 4 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"continuous, numerical, segmented\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 4 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"continuous, numerical\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 4 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"interpolated function, linear by default\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 4 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 4]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :quantize, :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 5 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"continuous\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 5 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"discrete, any or quantization data\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 5 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"splits domain into evenly sized segments\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 5 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 5]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :datetime, :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 6 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"continuous, temporal\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 6 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"continuous, numerical\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 6 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"temporal\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 6 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 6]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :histogram, :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 7 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"data, numerical\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 7 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"discrete, numerical or bin data\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 7 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"splits data into bins\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 7 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 7]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :quantile, :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 8 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"data, numerical\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 8 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"discrete, numerical or quantile data\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 8 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"splits data into quantiles\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 8 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 8]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :threshold, :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 9 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"continuous, numerical\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 9 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"discrete, any or segment data\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 9 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"splits data into segments by given thresholds\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 9 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 9]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :bands, :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 10 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"discrete, any\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 10 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"discrete, numerical or bin data\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 10 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"assigns domain values into evenly sized segments\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 10 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 10]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :ordinal, :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 11 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"discrete, any\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 11 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"discrete, any\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 11 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"maps domain and range values\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 11 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 11]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :constant, :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 12 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"any\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 12 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"any\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 12 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"returns constant value\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 12 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1 12]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 4, :number-col? [false false false false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"Scale acts as a mathematical function with defined inverse in most cases. Additionally there is a selection of helper functions to access range, domain, representation values (ticks) and scale modifications.\"]] [\"h2\" {:id \"Basics\"} [:span \"Basics\"]] [:p [:span \"Let's import \"] [:code [:span \"wadago.scale\"]] [:span \" name space as an entry point\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(require '[wadogo.scale :as s])\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.cmt-default.inspected-value \\\"nil\\\"]))}, :nextjournal/value nil, :path []}\"}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"To illustrate functions we'll use the logarithmic scale mapping \"] [:code [:span \"[2.0 5.0]\"]] [:span \" domain to \"] [:code [:span \"[-1.0 1.0]\"]] [:span \" range. To create any scale we use \"] [:code [:span \"scale\"]] [:span \" multimethod. Parameters are optional and there as some defaults for every scale kind.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def logarithmic (s/scale :log {:domain [0.5 1001.0]\\n                              :range [-1.0 1.0]}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x1b149687 \\\\\\\"log: [0.5 1001.0] -> [-1.0 1.0] {:base 10.0}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->cont logarithmic))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:domain 0.5, :range -1.0} {:domain 13.164556962025316, :range -0.13951131243422366} {:domain 25.82911392405063, :range 0.03780593429372803} {:domain 38.493670886075954, :range 0.14277743614615535} {:domain 51.15822784810126, :range 0.21760857787827148} {:domain 63.822784810126585, :range 0.27580109857676205} {:domain 76.48734177215191, :range 0.3234247079800978} {:domain 89.15189873417721, :range 0.36373472065231804} {:domain 101.81645569620252, :range 0.3986812634480723} {:domain 114.48101265822784, :range 0.4295254503861061} {:domain 127.14556962025317, :range 0.4571300333334154} {:domain 139.81012658227849, :range 0.48211131205897595} {:domain 152.47468354430382, :range 0.5049248947100828} {:domain 165.13924050632912, :range 0.5259171220735417} {:domain 177.80379746835442, :range 0.5453574362060987} {:domain 190.46835443037975, :range 0.5634595853034097} {:domain 203.13291139240505, :range 0.5803959885264032} {:domain 215.79746835443038, :range 0.5963077487442403} {:domain 228.46202531645568, :range 0.611311805449342} {:domain 241.126582278481, :range 0.6255061552867174} {:domain 253.79113924050634, :range 0.6389737346634055} {:domain 266.4556962025316, :range 0.6517853559128381} {:domain 279.12025316455697, :range 0.6640019610438779} {:domain 291.7848101265823, :range 0.6756763749763468} {:domain 304.44936708860763, :range 0.6868546859948081} {:domain 317.11392405063293, :range 0.6975773446686717} {:domain 329.77848101265823, :range 0.7078800474469964} {:domain 342.44303797468353, :range 0.7177944536541523} {:domain 355.10759493670884, :range 0.727348772214673} {:domain 367.7721518987342, :range 0.7365682455168481} {:domain 380.4367088607595, :range 0.7454755513236648} {:domain 393.1012658227848, :range 0.7540911388433145} {:domain 405.7658227848101, :range 0.7624335114927601} {:domain 418.43037974683546, :range 0.7705194661896955} {:domain 431.09493670886076, :range 0.7783642969541444} {:domain 443.75949367088606, :range 0.7859819690229486} {:domain 456.42405063291136, :range 0.7933852684578762} {:domain 469.0886075949367, :range 0.800585931273355} {:domain 481.753164556962, :range 0.8075947553587342} {:domain 494.4177215189874, :range 0.8144216978748335} {:domain 507.0822784810127, :range 0.8210759603299134} {:domain 519.746835443038, :range 0.827566063159257} {:domain 532.4113924050632, :range 0.8338999113250296} {:domain 545.0759493670886, :range 0.8400848522033999} {:domain 557.7405063291139, :range 0.846127726822139} {:domain 570.4050632911393, :range 0.8520349153447524} {:domain 583.0696202531645, :range 0.8578123775594115} {:domain 595.7341772151898, :range 0.863465689016867} {:domain 608.3987341772153, :range 0.8690000733666412} {:domain 621.0632911392405, :range 0.8744204313615587} {:domain 633.7278481012659, :range 0.8797313669342313} {:domain 646.3924050632911, :range 0.8849372106931974} {:domain 659.0569620253165, :range 0.8900420411391807} {:domain 671.7215189873418, :range 0.895049703861883} {:domain 684.3860759493671, :range 0.8999638289436835} {:domain 697.0506329113924, :range 0.9047878467675381} {:domain 709.7151898734177, :range 0.9095250024015187} {:domain 722.379746835443, :range 0.9141783687110605} {:domain 735.0443037974684, :range 0.9187508583316193} {:domain 747.7088607594936, :range 0.9232452346185589} {:domain 760.373417721519, :range 0.9276641216773516} {:domain 773.0379746835443, :range 0.9320100135652618} {:domain 785.7025316455696, :range 0.9362852827453023} {:domain 798.367088607595, :range 0.9404921878642087} {:domain 811.0316455696202, :range 0.9446328809182793} {:domain 823.6962025316457, :range 0.9487094138639911} {:domain 836.3607594936709, :range 0.9527237447242336} {:domain 849.0253164556962, :range 0.9566777432356457} {:domain 861.6898734177215, :range 0.9605731960778261} {:domain 874.3544303797469, :range 0.9644118117210305} {:domain 887.0189873417721, :range 0.9681952249252721} {:domain 899.6835443037975, :range 0.9719250009204818} {:domain 912.3481012658227, :range 0.975602639294483} {:domain 925.0126582278482, :range 0.9792295776129483} {:domain 937.6772151898734, :range 0.9828071947932109} {:domain 950.3417721518987, :range 0.9863368142517419} {:domain 963.006329113924, :range 0.989819706843279} {:domain 975.6708860759494, :range 0.9932570936079339} {:domain 988.3354430379748, :range 0.9966501483411434} {:domain 1001.0, :range 1.0})}, :mark \\\"line\\\", :encoding {:x {:field \\\"domain\\\", :type \\\"quantitative\\\", :axis {:values (\\\"1.0\\\" \\\"10.0\\\" \\\"100.0\\\" \\\"1000.0\\\")}}, :y {:field \\\"range\\\", :type \\\"quantitative\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Scaling\"} [:span \"Scaling\"]] [:p [:span \"To perform scaling, use a scale as a function or call \"] [:code [:span \"forward\"]] [:span \" function.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(map logarithmic [0.0 2.0 3.0 6.0 8.0])\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value ##-Inf, :path [0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value -0.6352769692539798, :path [1]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value -0.5286023211860842, :path [2]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value -0.34624080581307415, :path [3]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value -0.2705539385079596, :path [4]}], :path []}\"}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(s/forward logarithmic 1.0)\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value -0.81763848462699, :path []}\"}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"In most cases inverse transformation is also possible\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(s/inverse logarithmic -1.0)\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.49999999999999994, :path []}\"}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Fields\"} [:span \"Fields\"]] [:p [:span \"Scale itself is a custom type, implementing \"] [:code [:span \"IFn\"]] [:span \" interface and containing following fields:\"]] [:ul [:li [:<> [:code [:span \"kind\"]] [:span \" - kind of the scale\"]]] [:li [:<> [:code [:span \"domain\"]] [:span \" - domain of the transformation\"]]] [:li [:<> [:code [:span \"range\"]] [:span \" - range of the transformation\"]]] [:li [:<> [:code [:span \"data\"]] [:span \" - any data as a map, some scales store additional information there.\"]]]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"code\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"result\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value s/kind, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value logarithmic, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :log, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value s/domain, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 1 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value logarithmic, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 1 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 1 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1001.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 1 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value s/range, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 2 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value logarithmic, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 2 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 2 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 2 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value s/data, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 3 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value logarithmic, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 3 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 3 0]} {:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :base, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 3 1 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 10.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 3 1 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 3 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 3 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"We can also read particular key from \"] [:code [:span \"data\"]] [:span \" field.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(s/data logarithmic :base)\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 10.0, :path []}\"}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Size\"} [:span \"Size\"]] [:p [:span \"To get information about size of the domain or range (default), call \"] [:code [:span \"size\"]] [:span \".\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"code\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"result\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value s/size, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value logarithmic, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 0 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :domain, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 0 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1000.5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value s/size, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 1 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value logarithmic, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 1 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :range, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 1 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 2.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value s/size, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 2 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value logarithmic, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 2 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 2.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false true]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Updating%20scale\"} [:span \"Updating scale\"]] [:p [:span \"To change some of the fields while keeping the others you can call \"] [:code [:span \"with-\"]] [:span \" functions.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"code\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"result\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value s/with-domain, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value logarithmic, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 0 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 100.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 0 0 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 200.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 0 0 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 0 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 0 0]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x8d9f9b4 \\\\\\\"log: [100.0 200.0] -> [-1.0 1.0] {:base 10.0}\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value s/with-range, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 1 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value logarithmic, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 1 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 99.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 1 0 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -99.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 1 0 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 1 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 1 0]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x74a7a491 \\\\\\\"log: [0.5 1001.0] -> [99.0 -99.0] {:base 10.0}\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value s/with-data, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 2 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value logarithmic, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 2 0 1]} {:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\" \\\")\\\"), :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :anything, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 2 0 2 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 11.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 2 0 2 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 2 0 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 2 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 2 0]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x41afdd40 \\\\\\\"log: [0.5 1001.0] -> [-1.0 1.0] {:base 10.0, :anything 11.0}\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value s/with-data, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 3 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value logarithmic, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 3 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :anything, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 3 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 11.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 3 0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 3 0]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x7e30cb5c \\\\\\\"log: [0.5 1001.0] -> [-1.0 1.0] {:base 10.0, :anything 11.0}\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 3 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 3]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value s/with-data, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 4 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value logarithmic, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 4 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :anything, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 4 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 11.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 4 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :something, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 4 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 22, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 4 0 5]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 4 0]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x39639977 \\\\\\\"log: [0.5 1001.0] -> [-1.0 1.0] {:base 10.0, :anything 11.0, :something 22}\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 4 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 4]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value s/with-kind, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 5 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-keyword.inspected-value (str x)]))}, :nextjournal/value logarithmic, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 5 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :linear, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 5 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 5 0]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x702921e6 \\\\\\\"linear: [0.5 1001.0] -> [-1.0 1.0] {:base 10.0}\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 5 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1 5]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 2, :number-col? [false false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Ticks\"} [:span \"Ticks\"]] [:p [:span \"Every scale is able to produce \"] [:code [:span \"ticks\"]] [:span \", ie. sequence of values which is taken from domain (or range in certain cases). User can also provide own ticks or expected number of ticks. The exact number of returned ticks can differ from expected number of ticks.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (s/ticks logarithmic)\\n (s/ticks (s/with-ticks logarithmic 2))\\n (s/ticks logarithmic 2) ;; same as above\\n (s/ticks (s/with-ticks logarithmic [1 50 500])))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 10.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 100.00000000000001, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1000.0000000000006, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 100.00000000000001, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 100.00000000000001, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 50, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 500, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->cont (s/with-ticks logarithmic [1 50 500])))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:domain 0.5, :range -1.0} {:domain 13.164556962025316, :range -0.13951131243422366} {:domain 25.82911392405063, :range 0.03780593429372803} {:domain 38.493670886075954, :range 0.14277743614615535} {:domain 51.15822784810126, :range 0.21760857787827148} {:domain 63.822784810126585, :range 0.27580109857676205} {:domain 76.48734177215191, :range 0.3234247079800978} {:domain 89.15189873417721, :range 0.36373472065231804} {:domain 101.81645569620252, :range 0.3986812634480723} {:domain 114.48101265822784, :range 0.4295254503861061} {:domain 127.14556962025317, :range 0.4571300333334154} {:domain 139.81012658227849, :range 0.48211131205897595} {:domain 152.47468354430382, :range 0.5049248947100828} {:domain 165.13924050632912, :range 0.5259171220735417} {:domain 177.80379746835442, :range 0.5453574362060987} {:domain 190.46835443037975, :range 0.5634595853034097} {:domain 203.13291139240505, :range 0.5803959885264032} {:domain 215.79746835443038, :range 0.5963077487442403} {:domain 228.46202531645568, :range 0.611311805449342} {:domain 241.126582278481, :range 0.6255061552867174} {:domain 253.79113924050634, :range 0.6389737346634055} {:domain 266.4556962025316, :range 0.6517853559128381} {:domain 279.12025316455697, :range 0.6640019610438779} {:domain 291.7848101265823, :range 0.6756763749763468} {:domain 304.44936708860763, :range 0.6868546859948081} {:domain 317.11392405063293, :range 0.6975773446686717} {:domain 329.77848101265823, :range 0.7078800474469964} {:domain 342.44303797468353, :range 0.7177944536541523} {:domain 355.10759493670884, :range 0.727348772214673} {:domain 367.7721518987342, :range 0.7365682455168481} {:domain 380.4367088607595, :range 0.7454755513236648} {:domain 393.1012658227848, :range 0.7540911388433145} {:domain 405.7658227848101, :range 0.7624335114927601} {:domain 418.43037974683546, :range 0.7705194661896955} {:domain 431.09493670886076, :range 0.7783642969541444} {:domain 443.75949367088606, :range 0.7859819690229486} {:domain 456.42405063291136, :range 0.7933852684578762} {:domain 469.0886075949367, :range 0.800585931273355} {:domain 481.753164556962, :range 0.8075947553587342} {:domain 494.4177215189874, :range 0.8144216978748335} {:domain 507.0822784810127, :range 0.8210759603299134} {:domain 519.746835443038, :range 0.827566063159257} {:domain 532.4113924050632, :range 0.8338999113250296} {:domain 545.0759493670886, :range 0.8400848522033999} {:domain 557.7405063291139, :range 0.846127726822139} {:domain 570.4050632911393, :range 0.8520349153447524} {:domain 583.0696202531645, :range 0.8578123775594115} {:domain 595.7341772151898, :range 0.863465689016867} {:domain 608.3987341772153, :range 0.8690000733666412} {:domain 621.0632911392405, :range 0.8744204313615587} {:domain 633.7278481012659, :range 0.8797313669342313} {:domain 646.3924050632911, :range 0.8849372106931974} {:domain 659.0569620253165, :range 0.8900420411391807} {:domain 671.7215189873418, :range 0.895049703861883} {:domain 684.3860759493671, :range 0.8999638289436835} {:domain 697.0506329113924, :range 0.9047878467675381} {:domain 709.7151898734177, :range 0.9095250024015187} {:domain 722.379746835443, :range 0.9141783687110605} {:domain 735.0443037974684, :range 0.9187508583316193} {:domain 747.7088607594936, :range 0.9232452346185589} {:domain 760.373417721519, :range 0.9276641216773516} {:domain 773.0379746835443, :range 0.9320100135652618} {:domain 785.7025316455696, :range 0.9362852827453023} {:domain 798.367088607595, :range 0.9404921878642087} {:domain 811.0316455696202, :range 0.9446328809182793} {:domain 823.6962025316457, :range 0.9487094138639911} {:domain 836.3607594936709, :range 0.9527237447242336} {:domain 849.0253164556962, :range 0.9566777432356457} {:domain 861.6898734177215, :range 0.9605731960778261} {:domain 874.3544303797469, :range 0.9644118117210305} {:domain 887.0189873417721, :range 0.9681952249252721} {:domain 899.6835443037975, :range 0.9719250009204818} {:domain 912.3481012658227, :range 0.975602639294483} {:domain 925.0126582278482, :range 0.9792295776129483} {:domain 937.6772151898734, :range 0.9828071947932109} {:domain 950.3417721518987, :range 0.9863368142517419} {:domain 963.006329113924, :range 0.989819706843279} {:domain 975.6708860759494, :range 0.9932570936079339} {:domain 988.3354430379748, :range 0.9966501483411434} {:domain 1001.0, :range 1.0})}, :mark \\\"line\\\", :encoding {:x {:field \\\"domain\\\", :type \\\"quantitative\\\", :axis {:values (\\\"1\\\" \\\"50\\\" \\\"500\\\")}}, :y {:field \\\"range\\\", :type \\\"quantitative\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Formatting\"} [:span \"Formatting\"]] [:p [:span \"Ticks (or any values) can be formatter to a string. \"] [:code [:span \"wadogo\"]] [:span \" provides some default formatters for different kind of scales.\"]] [:ul [:li [:<> [:code [:span \"format\"]] [:span \" - formats ticks or provided sequence\"]]] [:li [:<> [:code [:span \"formatter\"]] [:span \" returns a formatter\"]]]] [:p [:span \"Custom formatter can be provided by setting \"] [:code [:span \"formatter\"]] [:span \" key during scale creation.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (s/format logarithmic)\\n (s/format (s/with-formatter logarithmic (comp str int)))\\n ((s/formatter logarithmic) 33.343000001))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"1.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"10.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"100.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"1000.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"1\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"10\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"100\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"1000\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"33.343\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h4\" {:id \"Formatting%20numbers\"} [:span \"Formatting numbers\"]] [:p [:span \"Formatting ints or doubles can be parametrized by providing \"] [:code [:span \":formatting-params\"]] [:span \" data map.\"]] [:p [:span \"There are following parameters for doubles\"]] [:ul [:li [:<> [:code [:span \":digits\"]] [:span \" - number of decimal digits, digits can be negative or positive, default: \"] [:code [:span \"-8\"]]] [:ul [:li [:<> [:span \"positive - decimal part will have exact number of digits (padded by zeros)\"]]] [:li [:<> [:span \"negative - trailing zeros will be truncated\"]]]]] [:li [:<> [:code [:span \":threshold\"]] [:span \" - when to switch into scientific notation, default: \"] [:code [:span \"8\"]]]] [:li [:<> [:code [:span \":na\"]] [:span \" - how to convert \"] [:code [:span \"nil\"]] [:span \", default: \"] [:code [:span \"\\\"NA\\\"\"]]]] [:li [:<> [:code [:span \":nan\"]] [:span \" - how to convert \"] [:code [:span \"##NaN\"]] [:span \", default: \"] [:code [:span \"\\\"NaN\\\"\"]]]] [:li [:<> [:code [:span \":inf\"]] [:span \" - how to convert \"] [:code [:span \"##Inf\"]] [:span \", default: \"] [:code [:span \"\\\"∞\\\"\"]]]] [:li [:<> [:code [:span \":-inf\"]] [:span \" - how to convert \"] [:code [:span \"##-Inf\"]] [:span \", default: \"] [:code [:span \"\\\"-∞\\\"\"]]]]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(s/format (s/scale :linear {:formatter-params {:digits 4}}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.0000\\\", :path [0]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.1000\\\", :path [1]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.2000\\\", :path [2]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.3000\\\", :path [3]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.4000\\\", :path [4]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.5000\\\", :path [5]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.6000\\\", :path [6]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.7000\\\", :path [7]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.8000\\\", :path [8]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.9000\\\", :path [9]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"1.0000\\\", :path [10]}], :path []}\"}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"In case of integers, parameters are:\"]] [:ul [:li [:<> [:code [:span \":digits\"]] [:span \" - number of digits with padding with leading zeros, default: \"] [:code [:span \"0\"]] [:span \" (no leading zeros)\"]]] [:li [:<> [:code [:span \":hex?\"]] [:span \" - print as hexadecimal number\"]]] [:li [:<> [:code [:span \":na\"]] [:span \" - how to convert \"] [:code [:span \"nil\"]] [:span \", default: \"] [:code [:span \"\\\"NA\\\"\"]]]]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(s/format (s/scale :quantize {:range [0 2 4 6 9 nil 11111]\\n                              :formatter-params {:hex? true\\n                                                 :digits 4}}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0x0000\\\", :path [0]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0x0002\\\", :path [1]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0x0004\\\", :path [2]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0x0006\\\", :path [3]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0x0009\\\", :path [4]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"NA\\\", :path [5]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0x2b67\\\", :path [6]}], :path []}\"}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h4\" {:id \"Datetime\"} [:span \"Datetime\"]] [:p [:span \"In case of \"] [:code [:span \"datetime\"]] [:span \" scale, default formatter recognizes datetime domain and adopt format accordingly. You may use \"] [:code [:span \"java-time/format\"]] [:span \" to create own formtatter.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(require '[java-time :as dt])\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.cmt-default.inspected-value \\\"nil\\\"]))}, :nextjournal/value nil, :path []}\"}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def years-scale (s/scale :datetime {:domain [(dt/local-date 2012)\\n                                            (dt/local-date 2101)]}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x4fd3b77e \\\\\\\"datetime: [#object[java.time.LocalDateTime 0x76fa025d \\\\\\\\\\\\\\\"2012-01-01T00:00\\\\\\\\\\\\\\\"] #object[java.time.LocalDateTime 0x7bad67f8 \\\\\\\\\\\\\\\"2101-01-01T00:00\\\\\\\\\\\\\\\"]] -> [0.0 1.0] {:millis 2808604800000.0M}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def minutes-scale (s/scale :datetime {:domain [(dt/local-time 12 1 0 0)\\n                                              (dt/local-time 12 15 0 0)]}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x37c1eff3 \\\\\\\"datetime: [#object[java.time.LocalDateTime 0x186c593a \\\\\\\\\\\\\\\"2022-07-01T12:01\\\\\\\\\\\\\\\"] #object[java.time.LocalDateTime 0x53bee28 \\\\\\\\\\\\\\\"2022-07-01T12:15\\\\\\\\\\\\\\\"]] -> [0.0 1.0] {:millis 840000.0M}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (s/ticks years-scale) ;; ticks\\n (s/format years-scale) ;; formatted ticks\\n (s/ticks minutes-scale)\\n (s/format minutes-scale))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x12cc705d \\\\\\\"2013-01-01T00:00\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x2bd345f3 \\\\\\\"2021-01-01T00:00\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x79e96fb0 \\\\\\\"2029-01-01T00:00\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x41efa909 \\\\\\\"2037-01-01T00:00\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 3]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x30d067f1 \\\\\\\"2045-01-01T00:00\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 4]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x19d50c5 \\\\\\\"2053-01-01T00:00\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 5]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x333b2ba9 \\\\\\\"2061-01-01T00:00\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 6]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0xf206b26 \\\\\\\"2069-01-01T00:00\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 7]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x3cfc7adc \\\\\\\"2077-01-01T00:00\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 8]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x570c0efe \\\\\\\"2085-01-01T00:00\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 9]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x3d8001d5 \\\\\\\"2093-01-01T00:00\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 10]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2013\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2021\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2029\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2037\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2045\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2053\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 5]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2061\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 6]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2069\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 7]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2077\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 8]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2085\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 9]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2093\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 10]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x31753418 \\\\\\\"2022-07-01T12:02\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0 0]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x6e008270 \\\\\\\"2022-07-01T12:03\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0 1]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x594c0ab0 \\\\\\\"2022-07-01T12:04\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0 2]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x647f26e5 \\\\\\\"2022-07-01T12:05\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0 3]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x7c321b86 \\\\\\\"2022-07-01T12:06\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0 4]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x164b0572 \\\\\\\"2022-07-01T12:07\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0 5]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x2f6b9481 \\\\\\\"2022-07-01T12:08\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0 6]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x323ed787 \\\\\\\"2022-07-01T12:09\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0 7]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x5e3c146d \\\\\\\"2022-07-01T12:10\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0 8]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x1012fa4d \\\\\\\"2022-07-01T12:11\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0 9]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x63aebb52 \\\\\\\"2022-07-01T12:12\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0 10]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x27e8ca4f \\\\\\\"2022-07-01T12:13\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0 11]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x19492da3 \\\\\\\"2022-07-01T12:14\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0 12]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:02:00\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:03:00\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:04:00\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:05:00\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:06:00\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:07:00\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 5]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:08:00\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 6]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:09:00\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 7]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:10:00\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 8]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:11:00\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 9]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:12:00\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 10]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:13:00\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 11]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:14:00\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 12]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Other\"} [:span \"Other\"]] [:p [:span \"To convert any scale to a map, call \"] [:code [:span \"->map\"]] [:span \" function.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(s/->map logarithmic)\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :base, :path [0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 10.0, :path [0 1]}], :path [0]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :domain, :path [1 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.5, :path [1 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 1001.0, :path [1 1 1]}], :path [1 1]}], :path [1]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :formatter, :path [2 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.cmt-default.inspected-value \\\"nil\\\"]))}, :nextjournal/value nil, :path [2 1]}], :path [2]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :kind, :path [3 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :log, :path [3 1]}], :path [3]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :range, :path [4 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value -1.0, :path [4 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 1.0, :path [4 1 1]}], :path [4 1]}], :path [4]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :ticks, :path [5 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.cmt-default.inspected-value \\\"nil\\\"]))}, :nextjournal/value nil, :path [5 1]}], :path [5]}], :path []}\", :nextjournal/viewer {:name :map}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"List of all scales and type of their transformation is stored in \"] [:code [:span \"scale-kinds\"]] [:span \" and \"] [:code [:span \"mapping\"]] [:span \" vars.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"s/scale-kinds\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :bands, :path [0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :constant, :path [1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :datetime, :path [2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :histogram, :path [3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :interpolated, :path [4]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :linear, :path [5]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :log, :path [6]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :ordinal, :path [7]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :pow, :path [8]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :quantile, :path [9]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :quantize, :path [10]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :symlog, :path [11]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :threshold, :path [12]}], :path []}\"}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"s/mapping\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :bands, :path [0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :discrete, :path [0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :continuous, :path [0 1 1]}], :path [0 1]}], :path [0]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :constant, :path [1 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :discrete, :path [1 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :discrete, :path [1 1 1]}], :path [1 1]}], :path [1]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :datetime, :path [2 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :datetime, :path [2 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :continuous, :path [2 1 1]}], :path [2 1]}], :path [2]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :histogram, :path [3 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :continuous, :path [3 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :discrete, :path [3 1 1]}], :path [3 1]}], :path [3]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :interpolated, :path [4 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :continuous, :path [4 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :continuous, :path [4 1 1]}], :path [4 1]}], :path [4]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :linear, :path [5 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :continuous, :path [5 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :continuous, :path [5 1 1]}], :path [5 1]}], :path [5]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :log, :path [6 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :continuous, :path [6 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :continuous, :path [6 1 1]}], :path [6 1]}], :path [6]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :ordinal, :path [7 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :discrete, :path [7 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :discrete, :path [7 1 1]}], :path [7 1]}], :path [7]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :pow, :path [8 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :continuous, :path [8 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :continuous, :path [8 1 1]}], :path [8 1]}], :path [8]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :quantile, :path [9 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :continuous, :path [9 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :discrete, :path [9 1 1]}], :path [9 1]}], :path [9]} {:nextjournal/viewer {:name :elision, :render-fn #viewer-fn v/elision-viewer}, :nextjournal/value {:n 10, :path [], :total 13, :offset 10}}], :path []}\", :nextjournal/viewer {:name :map}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h2\" {:id \"Numerical%20scales%20(continuous%20-%3E%20continuous)\"} [:span \"Numerical scales (continuous -> continuous)\"]] [:p [:span \"This group of scales transform continuous domain into continuous range of numbers.\"]] [:p [:span \"We have here:\"]] [:ul [:li [:<> [:span \"linear\"]]] [:li [:<> [:span \"logarithmic\"]]] [:li [:<> [:span \"symmetric log\"]]] [:li [:<> [:span \"exponential\"]]] [:li [:<> [:span \"interpolated\"]]]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(require '[wadogo.config :as cfg])\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.cmt-default.inspected-value \\\"nil\\\"]))}, :nextjournal/value nil, :path []}\"}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Linear%20scale\"} [:span \"Linear scale\"]] [:p [:span \"Linear scale maps a domain \"] [#viewer-eval v/inspect {:nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (v/katex-viewer tex {:inline? true}))}, :nextjournal/value \"[d_1, d_2]\"}] [:span \" to range \"] [#viewer-eval v/inspect {:nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (v/katex-viewer tex {:inline? true}))}, :nextjournal/value \"[r_1, r_2]\"}] [:span \" using following formula\"]] [#viewer-eval v/inspect {:nextjournal/viewer {:name :nextjournal.markdown/block-formula, :render-fn #viewer-fn v/katex-viewer}, :nextjournal/value \"scale_{linear}(x) = r_1 + \\\\frac{r_2-r_1}{d_2-d_1}(x-d_1)\"}]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def linear-scale (s/scale :linear {:domain [0.0 1.0]\\n                                  :range [-100.0 100.0]}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x1e8e7c55 \\\\\\\"linear: [0.0 1.0] -> [-100.0 100.0] {}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->cont linear-scale))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:domain 0.0, :range -100.0} {:domain 0.012658227848101266, :range -97.46835443037975} {:domain 0.02531645569620253, :range -94.9367088607595} {:domain 0.0379746835443038, :range -92.40506329113924} {:domain 0.05063291139240506, :range -89.87341772151899} {:domain 0.06329113924050633, :range -87.34177215189874} {:domain 0.0759493670886076, :range -84.81012658227849} {:domain 0.08860759493670886, :range -82.27848101265823} {:domain 0.10126582278481013, :range -79.74683544303798} {:domain 0.11392405063291139, :range -77.21518987341773} {:domain 0.12658227848101267, :range -74.68354430379748} {:domain 0.13924050632911392, :range -72.15189873417722} {:domain 0.1518987341772152, :range -69.62025316455696} {:domain 0.16455696202531644, :range -67.08860759493672} {:domain 0.17721518987341772, :range -64.55696202531647} {:domain 0.189873417721519, :range -62.0253164556962} {:domain 0.20253164556962025, :range -59.49367088607595} {:domain 0.21518987341772153, :range -56.962025316455694} {:domain 0.22784810126582278, :range -54.43037974683544} {:domain 0.24050632911392406, :range -51.89873417721519} {:domain 0.25316455696202533, :range -49.36708860759494} {:domain 0.26582278481012656, :range -46.83544303797469} {:domain 0.27848101265822783, :range -44.30379746835443} {:domain 0.2911392405063291, :range -41.77215189873418} {:domain 0.3037974683544304, :range -39.24050632911392} {:domain 0.31645569620253167, :range -36.70886075949367} {:domain 0.3291139240506329, :range -34.17721518987342} {:domain 0.34177215189873417, :range -31.64556962025317} {:domain 0.35443037974683544, :range -29.113924050632917} {:domain 0.3670886075949367, :range -26.58227848101265} {:domain 0.379746835443038, :range -24.0506329113924} {:domain 0.3924050632911392, :range -21.51898734177216} {:domain 0.4050632911392405, :range -18.987341772151893} {:domain 0.4177215189873418, :range -16.45569620253164} {:domain 0.43037974683544306, :range -13.924050632911388} {:domain 0.4430379746835443, :range -11.39240506329115} {:domain 0.45569620253164556, :range -8.860759493670884} {:domain 0.46835443037974683, :range -6.329113924050631} {:domain 0.4810126582278481, :range -3.7974683544303787} {:domain 0.4936708860759494, :range -1.2658227848101262} {:domain 0.5063291139240507, :range 1.2658227848101262} {:domain 0.5189873417721519, :range 3.7974683544303787} {:domain 0.5316455696202531, :range 6.329113924050617} {:domain 0.5443037974683544, :range 8.860759493670884} {:domain 0.5569620253164557, :range 11.392405063291136} {:domain 0.569620253164557, :range 13.924050632911403} {:domain 0.5822784810126582, :range 16.45569620253164} {:domain 0.5949367088607594, :range 18.987341772151893} {:domain 0.6075949367088608, :range 21.51898734177216} {:domain 0.620253164556962, :range 24.0506329113924} {:domain 0.6329113924050633, :range 26.582278481012665} {:domain 0.6455696202531646, :range 29.113924050632903} {:domain 0.6582278481012658, :range 31.645569620253156} {:domain 0.6708860759493671, :range 34.177215189873436} {:domain 0.6835443037974683, :range 36.70886075949366} {:domain 0.6962025316455697, :range 39.24050632911394} {:domain 0.7088607594936709, :range 41.772151898734165} {:domain 0.7215189873417721, :range 44.30379746835442} {:domain 0.7341772151898734, :range 46.8354430379747} {:domain 0.7468354430379747, :range 49.36708860759492} {:domain 0.759493670886076, :range 51.8987341772152} {:domain 0.7721518987341772, :range 54.430379746835456} {:domain 0.7848101265822784, :range 56.96202531645568} {:domain 0.7974683544303798, :range 59.49367088607596} {:domain 0.810126582278481, :range 62.02531645569621} {:domain 0.8227848101265823, :range 64.55696202531647} {:domain 0.8354430379746836, :range 67.08860759493672} {:domain 0.8481012658227848, :range 69.62025316455694} {:domain 0.8607594936708861, :range 72.15189873417722} {:domain 0.8734177215189873, :range 74.68354430379748} {:domain 0.8860759493670886, :range 77.2151898734177} {:domain 0.8987341772151899, :range 79.74683544303798} {:domain 0.9113924050632911, :range 82.27848101265823} {:domain 0.9240506329113924, :range 84.81012658227849} {:domain 0.9367088607594937, :range 87.34177215189874} {:domain 0.9493670886075949, :range 89.87341772151899} {:domain 0.9620253164556962, :range 92.40506329113924} {:domain 0.9746835443037974, :range 94.9367088607595} {:domain 0.9873417721518988, :range 97.46835443037975} {:domain 1.0, :range 100.0})}, :mark \\\"line\\\", :encoding {:x {:field \\\"domain\\\", :type \\\"quantitative\\\", :axis {:values (\\\"0.0\\\" \\\"0.1\\\" \\\"0.2\\\" \\\"0.3\\\" \\\"0.4\\\" \\\"0.5\\\" \\\"0.6\\\" \\\"0.7\\\" \\\"0.8\\\" \\\"0.9\\\" \\\"1.0\\\")}}, :y {:field \\\"range\\\", :type \\\"quantitative\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (cfg/default-params :linear)                     ;; default domain and range\\n (s/scale :linear)                                ;; default scale, identity\\n (linear-scale 0.2)                               ;; forward scaling\\n ((s/with-range linear-scale [100.0 -100.0]) 0.2) ;; reversed range\\n (s/inverse linear-scale 0.2)                     ;; inverse scaling\\n (s/ticks linear-scale)                           ;; default ticks\\n (s/ticks linear-scale 3)                         ;; 3 ticks\\n (s/format linear-scale)                          ;; ticks after formatting\\n )\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :domain, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :range, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\"}\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x86c20fd \\\\\\\"linear: [0.0 1.0] -> [0.0 1.0] {}\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -60.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 60.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.501, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.1, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.2, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.3, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.4, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 5]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.6, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 6]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.7, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 7]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.8, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 8]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.9, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 9]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 10]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.1\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.2\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.3\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.4\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.5\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 5]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.6\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 6]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.7\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 7]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.8\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 8]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.9\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 9]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"1.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 10]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"Scale from data also can be created:\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def linear-scale-data-domain\\n  (s/with-domain linear-scale (repeatedly 10 rand)))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x69b7390d \\\\\\\"linear: [0.102021414322094 0.9620381256578986] -> [-100.0 100.0] {}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->cont linear-scale-data-domain))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:domain 0.06283462096227965, :range -100.0} {:domain 0.0741827396821308, :range -97.46835443037975} {:domain 0.08553085840198192, :range -94.9367088607595} {:domain 0.09687897712183305, :range -92.40506329113924} {:domain 0.10822709584168419, :range -89.87341772151899} {:domain 0.11957521456153533, :range -87.34177215189874} {:domain 0.13092333328138644, :range -84.81012658227849} {:domain 0.14227145200123759, :range -82.27848101265823} {:domain 0.15361957072108873, :range -79.74683544303798} {:domain 0.16496768944093987, :range -77.21518987341773} {:domain 0.176315808160791, :range -74.68354430379748} {:domain 0.18766392688064215, :range -72.15189873417721} {:domain 0.19901204560049326, :range -69.62025316455696} {:domain 0.2103601643203444, :range -67.08860759493672} {:domain 0.22170828304019555, :range -64.55696202531647} {:domain 0.2330564017600467, :range -62.0253164556962} {:domain 0.2444045204798978, :range -59.49367088607595} {:domain 0.25575263919974894, :range -56.962025316455694} {:domain 0.2671007579196001, :range -54.43037974683544} {:domain 0.2784488766394512, :range -51.89873417721519} {:domain 0.28979699535930237, :range -49.36708860759494} {:domain 0.30114511407915345, :range -46.83544303797469} {:domain 0.31249323279900465, :range -44.303797468354425} {:domain 0.32384135151885574, :range -41.77215189873418} {:domain 0.3351894702387069, :range -39.24050632911392} {:domain 0.346537588958558, :range -36.708860759493675} {:domain 0.35788570767840916, :range -34.17721518987342} {:domain 0.3692338263982603, :range -31.64556962025317} {:domain 0.38058194511811144, :range -29.113924050632917} {:domain 0.3919300638379626, :range -26.58227848101265} {:domain 0.4032781825578137, :range -24.0506329113924} {:domain 0.4146263012776648, :range -21.51898734177216} {:domain 0.42597441999751595, :range -18.987341772151893} {:domain 0.4373225387173671, :range -16.45569620253164} {:domain 0.44867065743721823, :range -13.924050632911388} {:domain 0.4600187761570694, :range -11.39240506329115} {:domain 0.4713668948769205, :range -8.860759493670884} {:domain 0.48271501359677166, :range -6.329113924050631} {:domain 0.4940631323166228, :range -3.7974683544303787} {:domain 0.5054112510364739, :range -1.2658227848101262} {:domain 0.5167593697563251, :range 1.2658227848101262} {:domain 0.5281074884761762, :range 3.7974683544303787} {:domain 0.5394556071960273, :range 6.329113924050617} {:domain 0.5508037259158785, :range 8.860759493670884} {:domain 0.5621518446357296, :range 11.39240506329115} {:domain 0.5734999633555807, :range 13.924050632911403} {:domain 0.5848480820754318, :range 16.45569620253164} {:domain 0.5961962007952829, :range 18.987341772151893} {:domain 0.6075443195151341, :range 21.51898734177216} {:domain 0.6188924382349853, :range 24.050632911392427} {:domain 0.6302405569548364, :range 26.58227848101265} {:domain 0.6415886756746876, :range 29.113924050632903} {:domain 0.6529367943945387, :range 31.645569620253156} {:domain 0.6642849131143899, :range 34.177215189873436} {:domain 0.675633031834241, :range 36.70886075949366} {:domain 0.6869811505540921, :range 39.24050632911394} {:domain 0.6983292692739432, :range 41.772151898734165} {:domain 0.7096773879937943, :range 44.30379746835442} {:domain 0.7210255067136455, :range 46.8354430379747} {:domain 0.7323736254334966, :range 49.36708860759492} {:domain 0.7437217441533478, :range 51.8987341772152} {:domain 0.7550698628731989, :range 54.430379746835456} {:domain 0.76641798159305, :range 56.96202531645568} {:domain 0.7777661003129012, :range 59.49367088607596} {:domain 0.7891142190327523, :range 62.02531645569621} {:domain 0.8004623377526034, :range 64.55696202531647} {:domain 0.8118104564724545, :range 67.08860759493672} {:domain 0.8231585751923056, :range 69.62025316455694} {:domain 0.8345066939121568, :range 72.15189873417722} {:domain 0.845854812632008, :range 74.68354430379748} {:domain 0.8572029313518591, :range 77.2151898734177} {:domain 0.8685510500717103, :range 79.74683544303798} {:domain 0.8798991687915614, :range 82.27848101265823} {:domain 0.8912472875114126, :range 84.81012658227849} {:domain 0.9025954062312637, :range 87.34177215189874} {:domain 0.9139435249511147, :range 89.87341772151899} {:domain 0.925291643670966, :range 92.40506329113924} {:domain 0.936639762390817, :range 94.9367088607595} {:domain 0.9479878811106682, :range 97.46835443037975} {:domain 0.9593359998305193, :range 100.0})}, :mark \\\"line\\\", :encoding {:x {:field \\\"domain\\\", :type \\\"quantitative\\\", :axis {:values (\\\"0.1\\\" \\\"0.2\\\" \\\"0.3\\\" \\\"0.4\\\" \\\"0.5\\\" \\\"0.6\\\" \\\"0.7\\\" \\\"0.8\\\" \\\"0.9\\\")}}, :y {:field \\\"range\\\", :type \\\"quantitative\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (s/domain linear-scale-data-domain)       ;; domain from data\\n (linear-scale-data-domain 0.2)            ;; forward scaling\\n (s/inverse linear-scale-data-domain 0.2)  ;; inverse scaling\\n (s/ticks linear-scale-data-domain)        ;; default ticks\\n (s/format linear-scale-data-domain)       ;; ticks after formatting\\n )\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.06283462096227965, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.9593359998305193, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -69.39985096043455, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.5119818117752677, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.09999999999999998, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.19999999999999996, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.29999999999999993, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.3999999999999999, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.4999999999999999, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.5999999999999999, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 5]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.6999999999999998, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 6]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.7999999999999998, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 7]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.8999999999999998, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 8]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.1\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.2\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.3\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.4\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.5\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.6\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 5]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.7\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 6]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.8\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 7]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.9\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 8]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Logarithmic%20scale\"} [:span \"Logarithmic scale\"]] [:p [:span \"Logarithmic scale transforms lineary log of value from log of domain \"] [#viewer-eval v/inspect {:nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (v/katex-viewer tex {:inline? true}))}, :nextjournal/value \"[d_1,d_2]\"}] [:span \" into range \"] [#viewer-eval v/inspect {:nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (v/katex-viewer tex {:inline? true}))}, :nextjournal/value \"[r_1,r_2]\"}] [:span \". Domain shouldn't include \"] [:code [:span \"0.0\"]] [:span \".\"]] [#viewer-eval v/inspect {:nextjournal/viewer {:name :nextjournal.markdown/block-formula, :render-fn #viewer-fn v/katex-viewer}, :nextjournal/value \"\\\\begin{align}scale_{log}(x) & = r_1 + \\\\frac{r_2-r_1}{\\\\log(d_2)-\\\\log(d_1)}(\\\\log(x)-\\\\log(d_1)) \\\\\\\\ \\n   & =r_1 + (r_2-r_1)\\\\log_{\\\\frac{d2}{d1}}(\\\\frac{x}{d_1})\\\\end{align}\"}]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def log-scale (s/scale :log {:domain [0.1 100]\\n                            :range [-100 100]}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x39c335ad \\\\\\\"log: [0.1 100] -> [-100 100] {:base 10.0}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->cont log-scale))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:domain 0.1, :range -100.0} {:domain 1.3645569620253166, :range -24.33388869598143} {:domain 2.629113924050633, :range -5.346039650356161} {:domain 3.8936708860759497, :range 6.023949322596806} {:domain 5.158227848101266, :range 14.166701452370262} {:domain 6.422784810126583, :range 20.514891439684703} {:domain 7.687341772151899, :range 25.718412655474793} {:domain 8.951898734177215, :range 30.127677380971676} {:domain 10.216455696202532, :range 33.9533504012343} {:domain 11.481012658227849, :range 37.33201305131027} {:domain 12.745569620253166, :range 40.35728330442291} {:domain 14.010126582278481, :range 43.09613727856487} {:domain 15.274683544303798, :range 45.59814809616631} {:domain 16.539240506329115, :range 47.90103750422347} {:domain 17.803797468354432, :range 50.03417634738523} {:domain 19.06835443037975, :range 52.02088104787782} {:domain 20.332911392405066, :range 53.879971204593346} {:domain 21.597468354430383, :range 55.626856421979454} {:domain 22.8620253164557, :range 57.27431342232089} {:domain 24.126582278481017, :range 58.83305366745773} {:domain 25.391139240506334, :range 60.31214580530289} {:domain 26.655696202531647, :range 61.71933533733184} {:domain 27.920253164556964, :range 63.061290126521016} {:domain 29.18481012658228, :range 64.34379147863149} {:domain 30.449367088607598, :range 65.57188466320943} {:domain 31.713924050632915, :range 66.74999878645843} {:domain 32.97848101265823, :range 67.88204321233343} {:domain 34.243037974683546, :range 68.9714858308576} {:domain 35.50759493670886, :range 70.02141712633255} {:domain 36.77215189873418, :range 71.03460302906055} {:domain 38.0367088607595, :range 72.01352882749566} {:domain 39.30126582278481, :range 72.96043589610113} {:domain 40.56582278481013, :range 73.87735260480906} {:domain 41.83037974683545, :range 74.76612048229231} {:domain 43.094936708860764, :range 75.62841648159468} {:domain 44.359493670886074, :range 76.46577202478207} {:domain 45.6240506329114, :range 77.27958937007003} {:domain 46.888607594936715, :range 78.07115574082658} {:domain 48.15316455696203, :range 78.8416555739575} {:domain 49.41772151898735, :range 79.59218118028087} {:domain 50.682278481012666, :range 80.32374205772396} {:domain 51.946835443037976, :range 81.03727305661087} {:domain 53.21139240506329, :range 81.73364156274894} {:domain 54.47594936708861, :range 82.41365383676819} {:domain 55.74050632911393, :range 83.07806062591959} {:domain 57.00506329113925, :range 83.72756214628467} {:domain 58.26962025316456, :range 84.36281251830044} {:domain 59.53417721518987, :range 84.98442372603893} {:domain 60.798734177215195, :range 85.59296916031698} {:domain 62.06329113924051, :range 86.18898679704913} {:domain 63.32784810126583, :range 86.7729820549988} {:domain 64.59240506329114, :range 87.34543037096759} {:domain 65.85696202531645, :range 87.9067795253001} {:domain 67.12151898734177, :range 88.4574517462035} {:domain 68.38607594936708, :range 88.99784561765586} {:domain 69.6506329113924, :range 89.52833781249981} {:domain 70.91518987341772, :range 90.04928466959745} {:domain 72.17974683544303, :range 90.56102363158627} {:domain 73.44430379746835, :range 91.06387455776473} {:domain 74.70886075949367, :range 91.55814092489993} {:domain 75.97341772151898, :range 92.04411092724607} {:domain 77.23797468354431, :range 92.52205848575815} {:domain 78.50253164556962, :range 92.99224417534987} {:domain 79.76708860759494, :range 93.4549160780546} {:domain 81.03164556962025, :range 93.91031056908344} {:domain 82.29620253164558, :range 94.3586530420155} {:domain 83.56075949367089, :range 94.80015857869031} {:domain 84.8253164556962, :range 95.23503256878593} {:domain 86.08987341772152, :range 95.66347128355125} {:domain 87.35443037974683, :range 96.08566240770381} {:domain 88.61898734177214, :range 96.5017855331003} {:domain 89.88354430379746, :range 96.91201261743151} {:domain 91.14810126582279, :range 97.3165084108719} {:domain 92.4126582278481, :range 97.71543085333519} {:domain 93.67721518987342, :range 98.10893144473135} {:domain 94.94177215189873, :range 98.49715559039902} {:domain 96.20632911392406, :range 98.88024292368257} {:domain 97.47088607594937, :range 99.25832760744655} {:domain 98.73544303797469, :range 99.63153861615476} {:domain 100.0, :range 100.0})}, :mark \\\"line\\\", :encoding {:x {:field \\\"domain\\\", :type \\\"quantitative\\\", :axis {:values (\\\"0.1\\\" \\\"1.0\\\" \\\"10.0\\\" \\\"100.0\\\")}}, :y {:field \\\"range\\\", :type \\\"quantitative\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (cfg/default-params :log)                     ;; default domain and range\\n (s/scale :log)                                ;; default scale\\n (log-scale 0.2)                               ;; forward scaling\\n ((s/with-range log-scale [100.0 -100.0]) 0.2) ;; reversed range\\n (s/inverse log-scale 0.2)                     ;; inverse scaling\\n (s/ticks log-scale)                           ;; default ticks\\n (s/ticks log-scale 3)                         ;; 3 ticks\\n (s/format log-scale)                          ;; ticks after formatting\\n )\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :base, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 10.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :domain, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 10.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :range, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\"}\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x54c29a14 \\\\\\\"log: [1.0 10.0] -> [0.0 1.0] {:base 10.0}\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -79.93133362240125, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 79.93133362240125, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 3.184197521726125, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.09999999999999999, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 10.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 100.00000000000001, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.09999999999999999, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 10.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 100.00000000000001, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.1\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"1.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"10.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"100.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"Let's construct scale with base \"] [:code [:span \"2\"]] [:span \", negative domain and reversed range.\"] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:span \" \"]}] [:span \"Scaling doesn't rely on base, the result for \"] [:code [:span \"base=2\"]] [:span \" is the same as for \"] [:code [:span \"base=10\"]] [:span \". The only difference is in ticks.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def log-scale-base-2\\n  (-> log-scale\\n      (s/with-data :base 2.0)\\n      (s/with-domain [-0.25 -256])\\n      (s/with-range [100 10])))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x3d4023b9 \\\\\\\"log: [-0.25 -256] -> [100 10] {:base 2.0}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->cont log-scale-base-2))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:domain -0.25, :range 100.0} {:domain -3.4873417721518987, :range 65.78085015645351} {:domain -6.724683544303797, :range 57.254802600382085} {:domain -9.962025316455696, :range 52.15204830402654} {:domain -13.199367088607595, :range 48.498428361590896} {:domain -16.436708860759495, :range 45.65035404548826} {:domain -19.674050632911392, :range 43.31600096175692} {:domain -22.911392405063292, :range 41.338060895858824} {:domain -26.14873417721519, :range 39.62197716176372} {:domain -29.386075949367086, :range 38.106452643493974} {:domain -32.62341772151899, :range 36.74947576898828} {:domain -35.860759493670884, :range 35.520992756191035} {:domain -39.098101265822784, :range 34.3987602216486} {:domain -42.33544303797468, :range 33.36585326425117} {:domain -45.572784810126585, :range 32.40909435954708} {:domain -48.810126582278485, :range 31.518022707524267} {:domain -52.04746835443038, :range 30.684195227260147} {:domain -55.28481012658228, :range 29.900698843356835} {:domain -58.52215189873417, :range 29.16180177217892} {:domain -61.75949367088608, :range 28.462698822259668} {:domain -64.99683544303798, :range 27.799321842989798} {:domain -68.23417721518986, :range 27.16819629431869} {:domain -71.47151898734177, :range 26.566331093670016} {:domain -74.70886075949367, :range 25.991132884705863} {:domain -77.94620253164557, :range 25.44033850545283} {:domain -81.18354430379748, :range 24.911961207878278} {:domain -84.42088607594935, :range 24.40424739976598} {:domain -87.65822784810126, :range 23.915641531178707} {:domain -90.89556962025317, :range 23.444757351947956} {:domain -94.13291139240506, :range 22.99035420147203} {:domain -97.37025316455697, :range 22.55131730921289} {:domain -100.60759493670885, :range 22.1266413183469} {:domain -103.84493670886076, :range 21.715416419739114} {:domain -107.08227848101266, :range 21.316816615185232} {:domain -110.31962025316456, :range 20.93008972921956} {:domain -113.55696202531645, :range 20.554548865907137} {:domain -116.79430379746834, :range 20.189565066804576} {:domain -120.03164556962025, :range 19.834560972959537} {:domain -123.26898734177216, :range 19.489005330561255} {:domain -126.50632911392405, :range 19.152408208970925} {:domain -129.74367088607596, :range 18.82431682308983} {:domain -132.98101265822785, :range 18.50431187066991} {:domain -136.21835443037972, :range 18.19200431022847} {:domain -139.45569620253164, :range 17.887032517455182} {:domain -142.69303797468353, :range 17.589059767981126} {:domain -145.93037974683546, :range 17.297772002567896} {:domain -149.16772151898735, :range 17.01287583752709} {:domain -152.40506329113921, :range 16.734096788770344} {:domain -155.64240506329114, :range 16.461177682541717} {:domain -158.87974683544303, :range 16.193877229768248} {:domain -162.11708860759495, :range 15.931968744221933} {:domain -165.35443037974684, :range 15.675238987428841} {:domain -168.5917721518987, :range 15.423487125577068} {:domain -171.82911392405063, :range 15.176523785639773} {:domain -175.06645569620252, :range 14.934170199600047} {:domain -178.30379746835445, :range 14.69625742708989} {:domain -181.54113924050634, :range 14.462625647976324} {:domain -184.7784810126582, :range 14.23312351747532} {:domain -188.01582278481013, :range 14.00760757727629} {:domain -191.25316455696202, :range 13.785941716939206} {:domain -194.49050632911394, :range 13.567996680500443} {:domain -197.72784810126583, :range 13.353649613808784} {:domain -200.9651898734177, :range 13.14278364862237} {:domain -204.20253164556962, :range 12.935287519941042} {:domain -207.43987341772151, :range 12.731055213437543} {:domain -210.67721518987344, :range 12.529985640190162} {:domain -213.91455696202533, :range 12.331982336218829} {:domain -217.1518987341772, :range 12.136953184588776} {:domain -220.38924050632912, :range 11.944810158078155} {:domain -223.626582278481, :range 11.755469080609728} {:domain -226.8639240506329, :range 11.568849405828658} {:domain -230.10126582278482, :range 11.384874011368495} {:domain -233.3386075949367, :range 11.2034690074899} {:domain -236.5759493670886, :range 11.024563558904191} {:domain -239.8132911392405, :range 10.848089718706007} {:domain -243.0506329113924, :range 10.673982273440984} {:domain -246.28797468354432, :range 10.502178598424308} {:domain -249.52531645569618, :range 10.332618522506806} {:domain -252.7626582278481, :range 10.165244201557954} {:domain -256.0, :range 10.0})}, :mark \\\"line\\\", :encoding {:x {:field \\\"domain\\\", :type \\\"quantitative\\\", :axis {:values (\\\"-0.25\\\" \\\"-0.5\\\" \\\"-1.0\\\" \\\"-2.0\\\" \\\"-4.0\\\" \\\"-8.0\\\" \\\"-16.0\\\" \\\"-32.0\\\" \\\"-64.0\\\" \\\"-128.0\\\" \\\"-256.0\\\")}}, :y {:field \\\"range\\\", :type \\\"quantitative\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (log-scale-base-2 -16)            ;; forward scaling\\n (s/inverse log-scale-base-2 50 )  ;; inverse scaling\\n (s/ticks log-scale-base-2)        ;; default ticks\\n (s/format log-scale-base-2)       ;; ticks after formatting\\n (s/format (-> log-scale\\n               (s/with-domain [1 5000])\\n               (s/with-data :base 16))) ;; ticks with another base and domain\\n )\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 46.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -11.757875938204796, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -0.25, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -0.49999999999999994, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -2.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -4.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -7.999999999999999, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 5]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -16.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 6]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -31.999999999999996, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 7]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -63.999999999999964, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 8]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -127.99999999999993, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 9]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -255.99999999999997, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 10]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-0.25\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-0.5\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-1.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-2.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-4.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-8.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3 0 5]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-16.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3 0 6]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-32.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3 0 7]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-64.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3 0 8]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-128.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3 0 9]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-256.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3 0 10]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"1.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"16.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"256.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"4096.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4 0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Symmetric%20log%20scale\"} [:span \"Symmetric log scale\"]] [:p [:span \"In case where domain includes \"] [:code [:span \"0.0\"]] [:span \", symmetric log scale can be used.\"]] [#viewer-eval v/inspect {:nextjournal/viewer {:name :nextjournal.markdown/block-formula, :render-fn #viewer-fn v/katex-viewer}, :nextjournal/value \"symlog_{C,b}(x)=sgn(x)\\\\log_b\\\\left( 1+\\\\left| \\\\frac{x}{C}\\\\right| \\\\right)\"}] [:p [:span \"Flatness parameter \"] [#viewer-eval v/inspect {:nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (v/katex-viewer tex {:inline? true}))}, :nextjournal/value \"C\"}] [:span \" equals \"] [#viewer-eval v/inspect {:nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (v/katex-viewer tex {:inline? true}))}, :nextjournal/value \"\\\\frac{1}{\\\\ln(base)}\"}] [:span \" by default or can be provided by user.\"]] [:p [#viewer-eval v/inspect {:nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (v/katex-viewer tex {:inline? true}))}, :nextjournal/value \"symlog\"}] [:span \" function is later normalized to a domain and lineary tranformed to a desired range.\"]] [#viewer-eval v/inspect {:nextjournal/viewer {:name :nextjournal.markdown/block-formula, :render-fn #viewer-fn v/katex-viewer}, :nextjournal/value \"scale_{symlog}(x) = r_1 + \\\\frac{r_2-r_1}{symlog(d_2)-symlog(d_1)}(symlog(x)-symlog(d_1))\"}]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def symmetric-log-scale (s/scale :symlog {:domain [-7.0 5.0]\\n                                         :range [-20 100]}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x6d6f0a4d \\\\\\\"symlog: [-7.0 5.0] -> [-20 100] {:base 10.0, :C 0.43429448190325176}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->cont symmetric-log-scale))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:domain -7.0, :range -20.0} {:domain -6.848101265822785, :range -19.538419655236172} {:domain -6.69620253164557, :range -19.06710932636263} {:domain -6.544303797468355, :range -18.585649953190316} {:domain -6.3924050632911396, :range -18.09359480586309} {:domain -6.240506329113924, :range -17.590466993972} {:domain -6.088607594936709, :range -17.075756688909625} {:domain -5.936708860759493, :range -16.548918018913437} {:domain -5.784810126582278, :range -16.009365589395426} {:domain -5.632911392405063, :range -15.456470572947318} {:domain -5.481012658227848, :range -14.88955630353727} {:domain -5.329113924050633, :range -14.307893297485307} {:domain -5.177215189873418, :range -13.710693609325435} {:domain -5.025316455696203, :range -13.097104413003603} {:domain -4.8734177215189876, :range -12.466200677213308} {:domain -4.7215189873417724, :range -11.81697677699278} {:domain -4.5696202531645564, :range -11.14833685064391} {:domain -4.417721518987342, :range -10.459083669810708} {:domain -4.265822784810126, :range -9.747905738838044} {:domain -4.113924050632911, :range -9.01336227421288} {:domain -3.962025316455696, :range -8.253865631810354} {:domain -3.8101265822784813, :range -7.467660643200768} {:domain -3.6582278481012658, :range -6.652800184741956} {:domain -3.5063291139240507, :range -5.8071161240025475} {:domain -3.3544303797468356, :range -4.928184552485252} {:domain -3.20253164556962, :range -4.01328390085483} {:domain -3.0506329113924053, :range -3.059344113251523} {:domain -2.89873417721519, :range -2.062884487872651} {:domain -2.746835443037975, :range -1.0199370088758961} {:domain -2.594936708860759, :range 0.07404909401878257} {:domain -2.443037974683544, :range 1.2243273592311397} {:domain -2.291139240506329, :range 2.4370066868223077} {:domain -2.1392405063291138, :range 3.7192477373952606} {:domain -1.9873417721518987, :range 5.079519150889922} {:domain -1.8354430379746836, :range 6.527936875876058} {:domain -1.6835443037974684, :range 8.076721218035594} {:domain -1.5316455696202533, :range 9.740824292384215} {:domain -1.3797468354430382, :range 11.538810305409648} {:domain -1.2278481012658222, :range 13.494121719696011} {:domain -1.0759493670886071, :range 15.63695396454424} {:domain -0.924050632911392, :range 18.00712735536291} {:domain -0.7721518987341778, :range 20.65866935986854} {:domain -0.6202531645569627, :range 23.667496855485005} {:domain -0.46835443037974667, :range 27.14511461829992} {:domain -0.31645569620253156, :range 31.265052566008514} {:domain -0.16455696202531556, :range 36.3195784071225} {:domain -0.012658227848101333, :range 42.86102751712103} {:domain 0.1392405063291129, :range 49.721438591782075} {:domain 0.2911392405063289, :range 54.97476948182285} {:domain 0.443037974683544, :range 59.22563351981283} {:domain 0.59493670886076, :range 62.79599479244956} {:domain 0.7468354430379751, :range 65.87396116911677} {:domain 0.8987341772151893, :range 68.57903193361327} {:domain 1.0506329113924053, :range 70.9918744676376} {:domain 1.2025316455696196, :range 73.16951665754546} {:domain 1.3544303797468356, :range 75.15376711314244} {:domain 1.5063291139240498, :range 76.97619101989028} {:domain 1.6582278481012658, :range 78.66120523074521} {:domain 1.8101265822784818, :range 80.22808602525977} {:domain 1.962025316455696, :range 81.69231798214946} {:domain 2.113924050632912, :range 83.06652753229417} {:domain 2.2658227848101262, :range 84.36114578366679} {:domain 2.417721518987342, :range 85.58488968812172} {:domain 2.569620253164558, :range 86.74511820181056} {:domain 2.7215189873417724, :range 87.8481004935125} {:domain 2.8734177215189884, :range 88.89922104198983} {:domain 3.0253164556962027, :range 89.90313864471358} {:domain 3.177215189873417, :range 90.86391123345985} {:domain 3.329113924050633, :range 91.78509495758081} {:domain 3.481012658227847, :range 92.66982364970771} {:domain 3.632911392405063, :range 93.52087315780798} {:domain 3.784810126582279, :range 94.34071387557965} {:domain 3.9367088607594933, :range 95.13155397750336} {:domain 4.088607594936709, :range 95.89537526506327} {:domain 4.240506329113924, :range 96.63396308948253} {:domain 4.3924050632911396, :range 97.34893148809891} {:domain 4.5443037974683556, :range 98.04174442470676} {:domain 4.69620253164557, :range 98.71373383677309} {:domain 4.848101265822786, :range 99.36611504879245} {:domain 5.0, :range 100.0})}, :mark \\\"line\\\", :encoding {:x {:field \\\"domain\\\", :type \\\"quantitative\\\", :axis {:values (\\\"-7.0\\\" \\\"-6.0\\\" \\\"-5.0\\\" \\\"-4.0\\\" \\\"-3.0\\\" \\\"-2.0\\\" \\\"-1.0\\\" \\\"0.0\\\" \\\"1.0\\\" \\\"2.0\\\" \\\"3.0\\\" \\\"4.0\\\" \\\"5.0\\\")}}, :y {:field \\\"range\\\", :type \\\"quantitative\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (cfg/default-params :symlog)                     ;; default domain and range\\n (s/scale :symlog)                                ;; default scale\\n (symmetric-log-scale 0.2)                               ;; forward scaling\\n ((s/with-range symmetric-log-scale [100.0 -100.0]) 0.2) ;; reversed range\\n (s/inverse symmetric-log-scale 0.2)                     ;; inverse scaling\\n (s/ticks symmetric-log-scale)                           ;; default ticks\\n (s/ticks symmetric-log-scale 3)                         ;; 3 ticks\\n (s/format symmetric-log-scale)                          ;; ticks after formatting\\n )\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :base, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 10.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :domain, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :range, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\"}\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x4da13410 \\\\\\\"symlog: [0.0 1.0] -> [0.0 1.0] {:base 10.0, :C 0.43429448190325176}\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 51.97289291677174, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -19.954821527952888, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -2.5779208761603267, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -7.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -6.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -5.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -4.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -3.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -2.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 5]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 6]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 7]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 8]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 2.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 9]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 3.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 10]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 4.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 11]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 5.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 12]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -5.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 5.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-7.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-6.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-5.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-4.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-3.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-2.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 5]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"-1.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 6]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 7]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"1.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 8]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 9]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"3.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 10]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"4.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 11]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"5.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 12]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"Ticks are the same as in linear scale.\"]] [:p [:span \"Changing base, changes the slope of the curve around \"] [:code [:span \"0.0\"]] [:span \". We need to reset \"] [:code [:span \":C\"]] [:span \" as well (if not, previous value will be used).\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def symmetric-log-scale-base-2 (s/with-data symmetric-log-scale :base 2 :C nil))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0xd73058a \\\\\\\"symlog: [-7.0 5.0] -> [-20 100] {:base 2, :C 1.4426950408889634}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->cont symmetric-log-scale-base-2))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:domain -7.0, :range -20.0} {:domain -6.848101265822785, :range -19.332357380139584} {:domain -6.69620253164557, :range -18.652368846034744} {:domain -6.544303797468355, :range -17.959569185193185} {:domain -6.3924050632911396, :range -17.25346638451887} {:domain -6.240506329113924, :range -16.533539531317366} {:domain -6.088607594936709, :range -15.799236504701799} {:domain -5.936708860759493, :range -15.049971431770487} {:domain -5.784810126582278, :range -14.285121879195643} {:domain -5.632911392405063, :range -13.504025746495252} {:domain -5.481012658227848, :range -12.705977822135946} {:domain -5.329113924050633, :range -11.890225957579654} {:domain -5.177215189873418, :range -11.055966807256667} {:domain -5.025316455696203, :range -10.202341073992809} {:domain -4.8734177215189876, :range -9.328428189355826} {:domain -4.7215189873417724, :range -8.433240346362709} {:domain -4.5696202531645564, :range -7.515715787565789} {:domain -4.417721518987342, :range -6.574711234157501} {:domain -4.265822784810126, :range -5.608993320703437} {:domain -4.113924050632911, :range -4.617228874543336} {:domain -3.962025316455696, :range -3.597973847657709} {:domain -3.8101265822784813, :range -2.5496606704272686} {:domain -3.6582278481012658, :range -1.4705837493293146} {:domain -3.5063291139240507, :range -0.3588827717673553} {:domain -3.3544303797468356, :range 0.7874765923030225} {:domain -3.20253164556962, :range 1.9707250947610895} {:domain -3.0506329113924053, :range 3.1933160396137517} {:domain -2.89873417721519, :range 4.457955908404497} {:domain -2.746835443037975, :range 5.767640441841419} {:domain -2.594936708860759, :range 7.125697387377066} {:domain -2.443037974683544, :range 8.535837447439835} {:domain -2.291139240506329, :range 10.002215391744727} {:domain -2.1392405063291138, :range 11.529503868426154} {:domain -1.9873417721518987, :range 13.122983218311141} {:domain -1.8354430379746836, :range 14.788651645410994} {:domain -1.6835443037974684, :range 16.533361544031443} {:domain -1.5316455696202533, :range 18.36498980771853} {:domain -1.3797468354430382, :range 20.29265282047131} {:domain -1.2278481012658222, :range 22.326980980431728} {:domain -1.0759493670886071, :range 24.480473703718758} {:domain -0.924050632911392, :range 26.767964994052946} {:domain -0.7721518987341778, :range 29.207243662054537} {:domain -0.6202531645569627, :range 31.8198942531927} {:domain -0.46835443037974667, :range 34.63246020395599} {:domain -0.31645569620253156, :range 37.6780897812487} {:domain -0.16455696202531556, :range 40.998927213376064} {:domain -0.012658227848101333, :range 44.649694544112975} {:domain 0.1392405063291129, :range 48.35910565283318} {:domain 0.2911392405063289, :range 51.730723922630645} {:domain 0.443037974683544, :range 54.81900754109951} {:domain 0.59493670886076, :range 57.6679070975766} {:domain 0.7468354430379751, :range 60.311878803654295} {:domain 0.8987341772151893, :range 62.77843643833786} {:domain 1.0506329113924053, :range 65.08989961137776} {:domain 1.2025316455696196, :range 67.26462415407178} {:domain 1.3544303797468356, :range 69.31788847210447} {:domain 1.5063291139240498, :range 71.26254521051273} {:domain 1.6582278481012658, :range 73.10950906393292} {:domain 1.8101265822784818, :range 74.86812781346447} {:domain 1.962025316455696, :range 76.54646860732566} {:domain 2.113924050632912, :range 78.15154170686397} {:domain 2.2658227848101262, :range 79.68947740600267} {:domain 2.417721518987342, :range 81.16566741325819} {:domain 2.569620253164558, :range 82.58487893250417} {:domain 2.7215189873417724, :range 83.9513475342756} {:domain 2.8734177215189884, :range 85.2688533802824} {:domain 3.0253164556962027, :range 86.54078425819516} {:domain 3.177215189873417, :range 87.7701880741252} {:domain 3.329113924050633, :range 88.95981685028345} {:domain 3.481012658227847, :range 90.11216382588404} {:domain 3.632911392405063, :range 91.22949491925681} {:domain 3.784810126582279, :range 92.31387554931797} {:domain 3.9367088607594933, :range 93.36719361430748} {:domain 4.088607594936709, :range 94.39117927009252} {:domain 4.240506329113924, :range 95.38742202847268} {:domain 4.3924050632911396, :range 96.35738559978843} {:domain 4.5443037974683556, :range 97.30242082777036} {:domain 4.69620253164557, :range 98.2237770035221} {:domain 4.848101265822786, :range 99.12261179642182} {:domain 5.0, :range 100.0})}, :mark \\\"line\\\", :encoding {:x {:field \\\"domain\\\", :type \\\"quantitative\\\", :axis {:values (\\\"-7.0\\\" \\\"-6.0\\\" \\\"-5.0\\\" \\\"-4.0\\\" \\\"-3.0\\\" \\\"-2.0\\\" \\\"-1.0\\\" \\\"0.0\\\" \\\"1.0\\\" \\\"2.0\\\" \\\"3.0\\\" \\\"4.0\\\" \\\"5.0\\\")}}, :y {:field \\\"range\\\", :type \\\"quantitative\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Power%20scale\"} [:span \"Power scale\"]] [:p [:span \"Power scale uses exponent (\"] [:code [:span \"0.5\"]] [:span \" by default) to scale input.\"]] [#viewer-eval v/inspect {:nextjournal/viewer {:name :nextjournal.markdown/block-formula, :render-fn #viewer-fn v/katex-viewer}, :nextjournal/value \"scale_{power_a}(x)=r_1+\\\\frac{r_2-r_1}{d_2^a-d_1^a}(x^a-d_1^a)\"}]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def power-scale (s/scale :pow {:domain [0 20]\\n                              :range [-7 3]}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x3112b276 \\\\\\\"pow: [0 20] -> [-7 3] {:exponent 0.5}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->cont power-scale))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:domain 0.0, :range -7.0} {:domain 0.25316455696202533, :range -5.874912099073976} {:domain 0.5063291139240507, :range -5.40888543164854} {:domain 0.759493670886076, :range -5.051290592615107} {:domain 1.0126582278481013, :range -4.7498241981479525} {:domain 1.2658227848101267, :range -4.484226972866862} {:domain 1.518987341772152, :range -4.244108726952248} {:domain 1.7721518987341773, :range -4.023297211062064} {:domain 2.0253164556962027, :range -3.8177708632970795} {:domain 2.2784810126582276, :range -3.624736297221929} {:domain 2.5316455696202533, :range -3.4421596651759} {:domain 2.7848101265822782, :range -3.2685055764598294} {:domain 3.037974683544304, :range -3.102581185230215} {:domain 3.291139240506329, :range -2.9434378838070723} {:domain 3.5443037974683547, :range -2.7903065447301545} {:domain 3.79746835443038, :range -2.6425532966940493} {:domain 4.050632911392405, :range -2.499648396295905} {:domain 4.30379746835443, :range -2.3611437463775466} {:domain 4.556962025316455, :range -2.226656294945621} {:domain 4.810126582278481, :range -2.0958555372631604} {:domain 5.063291139240507, :range -1.9684539457337245} {:domain 5.3164556962025316, :range -1.8441995305275185} {:domain 5.5696202531645564, :range -1.7228699783099168} {:domain 5.822784810126582, :range -1.6042679782412366} {:domain 6.075949367088608, :range -1.488217453904496} {:domain 6.329113924050633, :range -1.37456049536988} {:domain 6.582278481012658, :range -1.2631548386710598} {:domain 6.8354430379746836, :range -1.1538717778453211} {:domain 7.088607594936709, :range -1.0465944221241283} {:domain 7.341772151898734, :range -0.9412162310003449} {:domain 7.59493670886076, :range -0.8376397748667923} {:domain 7.848101265822784, :range -0.7357756801728499} {:domain 8.10126582278481, :range -0.635541726594159} {:domain 8.354430379746836, :range -0.5368620702684854} {:domain 8.60759493670886, :range -0.4396665722278801} {:domain 8.860759493670885, :range -0.3438902151215668} {:domain 9.11392405063291, :range -0.2494725944438576} {:domain 9.367088607594937, :range -0.15635747295530678} {:domain 9.620253164556962, :range -0.06449238896064546} {:domain 9.873417721518988, :range 0.026171689305274803} {:domain 10.126582278481013, :range 0.11568066964820023} {:domain 10.379746835443038, :range 0.20407760766187089} {:domain 10.632911392405063, :range 0.29140294881755224} {:domain 10.88607594936709, :range 0.37769474475838205} {:domain 11.139240506329113, :range 0.46298884708034116} {:domain 11.39240506329114, :range 0.5473190813994142} {:domain 11.645569620253164, :range 0.6307174041020422} {:domain 11.89873417721519, :range 0.7132140438390495} {:domain 12.151898734177216, :range 0.79483762953957} {:domain 12.40506329113924, :range 0.8756153064821666} {:domain 12.658227848101266, :range 0.9555728417573004} {:domain 12.91139240506329, :range 1.0347347202827084} {:domain 13.164556962025316, :range 1.1131242323858554} {:domain 13.417721518987342, :range 1.190763553841407} {:domain 13.670886075949367, :range 1.2676738191432566} {:domain 13.924050632911394, :range 1.343875188697215} {:domain 14.177215189873419, :range 1.419386910539691} {:domain 14.430379746835442, :range 1.494227377117781} {:domain 14.683544303797468, :range 1.5684141776052911} {:domain 14.936708860759493, :range 1.6419641461763455} {:domain 15.18987341772152, :range 1.7148934066119015} {:domain 15.443037974683545, :range 1.7872174135739751} {:domain 15.696202531645568, :range 1.8589509908469317} {:domain 15.949367088607595, :range 1.9301083668138066} {:domain 16.20253164556962, :range 2.00070320740819} {:domain 16.455696202531648, :range 2.0707486467577887} {:domain 16.70886075949367, :range 2.140257315714276} {:domain 16.962025316455694, :range 2.209241368444985} {:domain 17.21518987341772, :range 2.2777125072449067} {:domain 17.468354430379748, :range 2.3456820057125185} {:domain 17.72151898734177, :range 2.413160730419344} {:domain 17.974683544303797, :range 2.480159161191281} {:domain 18.22784810126582, :range 2.546687410108758} {:domain 18.481012658227847, :range 2.6127552393233877} {:domain 18.734177215189874, :range 2.678372077779887} {:domain 18.987341772151897, :range 2.743547036924463} {:domain 19.240506329113924, :range 2.808288925473679} {:domain 19.49367088607595, :range 2.8726062633116154} {:domain 19.746835443037977, :range 2.9365072945773996} {:domain 20.0, :range 3.0})}, :mark \\\"line\\\", :encoding {:x {:field \\\"domain\\\", :type \\\"quantitative\\\", :axis {:values (\\\"0.0\\\" \\\"2.0\\\" \\\"4.0\\\" \\\"6.0\\\" \\\"8.0\\\" \\\"10.0\\\" \\\"12.0\\\" \\\"14.0\\\" \\\"16.0\\\" \\\"18.0\\\" \\\"20.0\\\")}}, :y {:field \\\"range\\\", :type \\\"quantitative\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (cfg/default-params :pow)                     ;; default domain and range\\n (s/scale :pow)                                ;; default scale\\n (power-scale 0.2)                               ;; forward scaling\\n ((s/with-range power-scale [100.0 -100.0]) 0.2) ;; reversed range\\n (s/inverse power-scale 0.2)                     ;; inverse scaling\\n (s/ticks power-scale)                           ;; default ticks\\n (s/ticks power-scale 3)                         ;; 3 ticks\\n (s/format power-scale)                          ;; ticks after formatting\\n )\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :domain, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :exponent, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :range, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\"}\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x243aeb7b \\\\\\\"pow: [0.0 1.0] -> [0.0 1.0] {:exponent 0.5}\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -6.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 80.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 10.368, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 2.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 4.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 6.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 8.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 10.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 5]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 12.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 6]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 14.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 7]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 16.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 8]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 18.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 9]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 20.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 10]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 5.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 10.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 15.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 20.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 4]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"0.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"4.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"6.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"8.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"10.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 5]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 6]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"14.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 7]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"16.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 8]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"18.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 9]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"20.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 10]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"Other exponenents can be set by changing \"] [:code [:span \":exponent\"]] [:span \" data.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def power-2-scale (s/with-data power-scale :exponent 2.0))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x60ff5a58 \\\\\\\"pow: [0 20] -> [-7 3] {:exponent 2.0}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->cont power-2-scale))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:domain 0.0, :range -7.0} {:domain 0.25316455696202533, :range -6.998397692677456} {:domain 0.5063291139240507, :range -6.993590770709822} {:domain 0.759493670886076, :range -6.9855792340970995} {:domain 1.0126582278481013, :range -6.974363082839289} {:domain 1.2658227848101267, :range -6.959942316936388} {:domain 1.518987341772152, :range -6.9423169363884} {:domain 1.7721518987341773, :range -6.9214869411953215} {:domain 2.0253164556962027, :range -6.8974523313571545} {:domain 2.2784810126582276, :range -6.870213106873899} {:domain 2.5316455696202533, :range -6.839769267745553} {:domain 2.7848101265822782, :range -6.80612081397212} {:domain 3.037974683544304, :range -6.769267745553597} {:domain 3.291139240506329, :range -6.729210062489986} {:domain 3.5443037974683547, :range -6.685947764781285} {:domain 3.79746835443038, :range -6.6394808524274955} {:domain 4.050632911392405, :range -6.589809325428617} {:domain 4.30379746835443, :range -6.53693318378465} {:domain 4.556962025316455, :range -6.480852427495594} {:domain 4.810126582278481, :range -6.421567056561448} {:domain 5.063291139240507, :range -6.359077070982215} {:domain 5.3164556962025316, :range -6.293382470757892} {:domain 5.5696202531645564, :range -6.2244832558884795} {:domain 5.822784810126582, :range -6.152379426373979} {:domain 6.075949367088608, :range -6.077070982214389} {:domain 6.329113924050633, :range -5.9985579234097095} {:domain 6.582278481012658, :range -5.916840249959943} {:domain 6.8354430379746836, :range -5.831917961865086} {:domain 7.088607594936709, :range -5.74379105912514} {:domain 7.341772151898734, :range -5.652459541740106} {:domain 7.59493670886076, :range -5.557923409709982} {:domain 7.848101265822784, :range -5.46018266303477} {:domain 8.10126582278481, :range -5.359237301714469} {:domain 8.354430379746836, :range -5.255087325749079} {:domain 8.60759493670886, :range -5.1477327351386} {:domain 8.860759493670885, :range -5.037173529883032} {:domain 9.11392405063291, :range -4.9234097099823755} {:domain 9.367088607594937, :range -4.8064412754366295} {:domain 9.620253164556962, :range -4.686268226245794} {:domain 9.873417721518988, :range -4.562890562409869} {:domain 10.126582278481013, :range -4.436308283928858} {:domain 10.379746835443038, :range -4.3065213908027555} {:domain 10.632911392405063, :range -4.173529883031566} {:domain 10.88607594936709, :range -4.037333760615285} {:domain 11.139240506329113, :range -3.897933023553918} {:domain 11.39240506329114, :range -3.7553276718474597} {:domain 11.645569620253164, :range -3.6095177054959144} {:domain 11.89873417721519, :range -3.4605031244992794} {:domain 12.151898734177216, :range -3.3082839288575543} {:domain 12.40506329113924, :range -3.152860118570743} {:domain 12.658227848101266, :range -2.99423169363884} {:domain 12.91139240506329, :range -2.8323986540618495} {:domain 13.164556962025316, :range -2.6673609998397705} {:domain 13.417721518987342, :range -2.4991187309726} {:domain 13.670886075949367, :range -2.3276718474603433} {:domain 13.924050632911394, :range -2.153020349302995} {:domain 14.177215189873419, :range -1.97516423650056} {:domain 14.430379746835442, :range -1.7941035090530368} {:domain 14.683544303797468, :range -1.6098381669604223} {:domain 14.936708860759493, :range -1.4223682102227215} {:domain 15.18987341772152, :range -1.2316936388399284} {:domain 15.443037974683545, :range -1.0378144528120483} {:domain 15.696202531645568, :range -0.8407306521390812} {:domain 15.949367088607595, :range -0.6404422368210234} {:domain 16.20253164556962, :range -0.4369492068578751} {:domain 16.455696202531648, :range -0.23025156224963794} {:domain 16.70886075949367, :range -0.020349302996314655} {:domain 16.962025316455694, :range 0.19275757090209744} {:domain 17.21518987341772, :range 0.409069059445601} {:domain 17.468354430379748, :range 0.6285851626341934} {:domain 17.72151898734177, :range 0.8513058804678728} {:domain 17.974683544303797, :range 1.0772312129466428} {:domain 18.22784810126582, :range 1.306361160070498} {:domain 18.481012658227847, :range 1.5386957218394492} {:domain 18.734177215189874, :range 1.774234898253484} {:domain 18.987341772151897, :range 2.012978689312609} {:domain 19.240506329113924, :range 2.254927095016823} {:domain 19.49367088607595, :range 2.500080115366128} {:domain 19.746835443037977, :range 2.7484377503605213} {:domain 20.0, :range 3.0})}, :mark \\\"line\\\", :encoding {:x {:field \\\"domain\\\", :type \\\"quantitative\\\", :axis {:values (\\\"0.0\\\" \\\"2.0\\\" \\\"4.0\\\" \\\"6.0\\\" \\\"8.0\\\" \\\"10.0\\\" \\\"12.0\\\" \\\"14.0\\\" \\\"16.0\\\" \\\"18.0\\\" \\\"20.0\\\")}}, :y {:field \\\"range\\\", :type \\\"quantitative\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Interpolated%20scale\"} [:span \"Interpolated scale\"]] [:p [:span \"This scale interpolates between points created from domain and range, ie. pairs \"] [#viewer-eval v/inspect {:nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (v/katex-viewer tex {:inline? true}))}, :nextjournal/value \"(d_i, r_i)\"}] [:span \". \"] [:code [:span \":interpolator\"]] [:span \" parameter defines the method of interpolation, \"] [:code [:span \":interpolator-params\"]] [:span \" is a list of parameters for \"] [:code [:span \"interpolation\"]] [:span \" function. Please refer \"] [:a {:href \"https://generateme.github.io/fastmath/fastmath.interpolation.html#var-interpolators-1d-list\"} [:span \"fastmath.interpolation\"]] [:span \" namespace for a list of functions and interpolation names.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def interpolated-scale (s/scale :interpolated {:domain [1 2 4 6 10]\\n                                              :range [-7 0 2 4 20]}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x75354c98 \\\\\\\"interpolated: [1 2 4 6 10] -> [-7 0 2 4 20] {:interpolator :linear, :interpolator-params nil}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->cont interpolated-scale))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:domain 1.0, :range -7.0} {:domain 1.1139240506329113, :range -6.2025316455696204} {:domain 1.2278481012658227, :range -5.405063291139241} {:domain 1.3417721518987342, :range -4.6075949367088604} {:domain 1.4556962025316456, :range -3.810126582278481} {:domain 1.5696202531645569, :range -3.0126582278481018} {:domain 1.6835443037974684, :range -2.215189873417721} {:domain 1.7974683544303798, :range -1.4177215189873413} {:domain 1.9113924050632911, :range -0.6202531645569618} {:domain 2.0253164556962027, :range 0.025316455696202667} {:domain 2.1392405063291138, :range 0.13924050632911378} {:domain 2.2531645569620253, :range 0.25316455696202533} {:domain 2.367088607594937, :range 0.3670886075949369} {:domain 2.481012658227848, :range 0.481012658227848} {:domain 2.5949367088607596, :range 0.5949367088607596} {:domain 2.708860759493671, :range 0.7088607594936711} {:domain 2.8227848101265822, :range 0.8227848101265822} {:domain 2.9367088607594938, :range 0.9367088607594938} {:domain 3.050632911392405, :range 1.050632911392405} {:domain 3.1645569620253164, :range 1.1645569620253164} {:domain 3.278481012658228, :range 1.278481012658228} {:domain 3.392405063291139, :range 1.3924050632911391} {:domain 3.5063291139240507, :range 1.5063291139240507} {:domain 3.620253164556962, :range 1.6202531645569618} {:domain 3.7341772151898733, :range 1.7341772151898733} {:domain 3.848101265822785, :range 1.8481012658227849} {:domain 3.962025316455696, :range 1.962025316455696} {:domain 4.075949367088608, :range 2.075949367088608} {:domain 4.189873417721519, :range 2.189873417721519} {:domain 4.30379746835443, :range 2.3037974683544302} {:domain 4.417721518987342, :range 2.417721518987342} {:domain 4.5316455696202524, :range 2.5316455696202524} {:domain 4.6455696202531644, :range 2.6455696202531644} {:domain 4.759493670886076, :range 2.7594936708860764} {:domain 4.8734177215189876, :range 2.8734177215189876} {:domain 4.987341772151899, :range 2.9873417721518987} {:domain 5.10126582278481, :range 3.10126582278481} {:domain 5.215189873417722, :range 3.2151898734177218} {:domain 5.329113924050633, :range 3.329113924050633} {:domain 5.443037974683545, :range 3.443037974683545} {:domain 5.556962025316456, :range 3.556962025316456} {:domain 5.670886075949367, :range 3.670886075949367} {:domain 5.784810126582278, :range 3.7848101265822782} {:domain 5.89873417721519, :range 3.89873417721519} {:domain 6.012658227848101, :range 4.050632911392405} {:domain 6.126582278481013, :range 4.506329113924053} {:domain 6.240506329113924, :range 4.962025316455694} {:domain 6.354430379746835, :range 5.417721518987339} {:domain 6.468354430379747, :range 5.873417721518987} {:domain 6.582278481012658, :range 6.329113924050631} {:domain 6.69620253164557, :range 6.784810126582279} {:domain 6.810126582278481, :range 7.240506329113924} {:domain 6.924050632911392, :range 7.696202531645568} {:domain 7.037974683544304, :range 8.151898734177216} {:domain 7.151898734177215, :range 8.60759493670886} {:domain 7.265822784810127, :range 9.063291139240508} {:domain 7.379746835443038, :range 9.518987341772153} {:domain 7.493670886075949, :range 9.974683544303797} {:domain 7.607594936708861, :range 10.430379746835445} {:domain 7.7215189873417724, :range 10.88607594936709} {:domain 7.835443037974684, :range 11.341772151898738} {:domain 7.949367088607595, :range 11.797468354430379} {:domain 8.063291139240505, :range 12.25316455696202} {:domain 8.177215189873419, :range 12.708860759493675} {:domain 8.291139240506329, :range 13.164556962025316} {:domain 8.405063291139241, :range 13.620253164556964} {:domain 8.518987341772153, :range 14.075949367088612} {:domain 8.632911392405063, :range 14.531645569620252} {:domain 8.746835443037975, :range 14.9873417721519} {:domain 8.860759493670887, :range 15.443037974683548} {:domain 8.974683544303797, :range 15.89873417721519} {:domain 9.08860759493671, :range 16.354430379746837} {:domain 9.20253164556962, :range 16.81012658227848} {:domain 9.316455696202532, :range 17.265822784810126} {:domain 9.430379746835444, :range 17.721518987341774} {:domain 9.544303797468354, :range 18.177215189873415} {:domain 9.658227848101266, :range 18.632911392405063} {:domain 9.772151898734178, :range 19.08860759493671} {:domain 9.88607594936709, :range 19.54430379746836} {:domain 10.0, :range 20.0})}, :mark \\\"line\\\", :encoding {:x {:field \\\"domain\\\", :type \\\"quantitative\\\", :axis {:values (\\\"1.0\\\" \\\"2.0\\\" \\\"3.0\\\" \\\"4.0\\\" \\\"5.0\\\" \\\"6.0\\\" \\\"7.0\\\" \\\"8.0\\\" \\\"9.0\\\" \\\"10.0\\\")}}, :y {:field \\\"range\\\", :type \\\"quantitative\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (cfg/default-params :interpolated)                     ;; default domain and range\\n (s/scale :interpolated)                                ;; default scale\\n (interpolated-scale 0.2)                               ;; forward scaling\\n ((s/with-range interpolated-scale [100.0 -100.0]) 0.2) ;; reversed range\\n (s/inverse interpolated-scale 0.2)                     ;; inverse scaling\\n (s/ticks interpolated-scale)                           ;; default ticks\\n (s/ticks interpolated-scale 3)                         ;; 3 ticks\\n (s/format interpolated-scale)                          ;; ticks after formatting\\n )\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :domain, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 1 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 1 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :interpolator, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :linear, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :interpolator-params, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.cmt-default.inspected-value \\\"nil\\\"]))}, :nextjournal/value nil, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :range, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 3 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\"}\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 3 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 3 1 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 3 1 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 3 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x5110c14a \\\\\\\"interpolated: [0.0 0.5 1.0] -> [0.0 0.5 1.0] {:interpolator :linear, :interpolator-params nil}\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value -12.600000000000001, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 260.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 2.2, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 2.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 3.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 4.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 5.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 6.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 5]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 7.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 6]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 8.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 7]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 9.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 8]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 10.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 9]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 2.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 4.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 6.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 8.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 10.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 4]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"1.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"3.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"4.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"5.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"6.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 5]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"7.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 6]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"8.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 7]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"9.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 8]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"10.0\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 9]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Other%20interpolators\"} [:span \"Other interpolators\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->cont (s/with-data interpolated-scale :interpolator :monotone)))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:domain 1.0, :range -7.0} {:domain 1.1139240506329113, :range -6.168031332206986} {:domain 1.2278481012658227, :range -5.284805055989486} {:domain 1.3417721518987342, :range -4.3769356987986745} {:domain 1.4556962025316456, :range -3.4710377880857295} {:domain 1.5696202531645569, :range -2.5937258513018246} {:domain 1.6835443037974684, :range -1.771614415898133} {:domain 1.7974683544303798, :range -1.031318009325834} {:domain 1.9113924050632911, :range -0.39945115903610073} {:domain 2.0253164556962027, :range 0.09935522342046016} {:domain 2.1392405063291138, :range 0.5008229572102811} {:domain 2.2531645569620253, :range 0.8325507718456349} {:domain 2.367088607594937, :range 1.1011922991893142} {:domain 2.481012658227848, :range 1.3134011711041114} {:domain 2.5949367088607596, :range 1.4758310194528224} {:domain 2.708860759493671, :range 1.5951354760982397} {:domain 2.8227848101265822, :range 1.6779681729031577} {:domain 2.9367088607594938, :range 1.7309827417303705} {:domain 3.050632911392405, :range 1.7608328144426708} {:domain 3.1645569620253164, :range 1.7741720229028535} {:domain 3.278481012658228, :range 1.7776539989737121} {:domain 3.392405063291139, :range 1.7779323745180398} {:domain 3.5063291139240507, :range 1.7816607813986316} {:domain 3.620253164556962, :range 1.7954928514782804} {:domain 3.7341772151898733, :range 1.8260822166197803} {:domain 3.848101265822785, :range 1.8800825086859256} {:domain 3.962025316455696, :range 1.964147359539509} {:domain 4.075949367088608, :range 2.0717874245242265} {:domain 4.189873417721519, :range 2.1654014692549675} {:domain 4.30379746835443, :range 2.2450921732357885} {:domain 4.417721518987342, :range 2.314186352398086} {:domain 4.5316455696202524, :range 2.3760108226732566} {:domain 4.6455696202531644, :range 2.4338923999926982} {:domain 4.759493670886076, :range 2.4911579002878073} {:domain 4.8734177215189876, :range 2.5511341394899794} {:domain 4.987341772151899, :range 2.617147933530613} {:domain 5.10126582278481, :range 2.6925260983411046} {:domain 5.215189873417722, :range 2.780595449852852} {:domain 5.329113924050633, :range 2.8846828039972494} {:domain 5.443037974683545, :range 3.008114976705697} {:domain 5.556962025316456, :range 3.15421878390959} {:domain 5.670886075949367, :range 3.326321041540324} {:domain 5.784810126582278, :range 3.527748565529299} {:domain 5.89873417721519, :range 3.7618281718079096} {:domain 6.012658227848101, :range 4.031765552522214} {:domain 6.126582278481013, :range 4.328282853891884} {:domain 6.240506329113924, :range 4.6433440736939655} {:domain 6.354430379746835, :range 4.976117507945616} {:domain 6.468354430379747, :range 5.325771452663988} {:domain 6.582278481012658, :range 5.691474203866225} {:domain 6.69620253164557, :range 6.0723940575694835} {:domain 6.810126582278481, :range 6.467699309790908} {:domain 6.924050632911392, :range 6.876558256547655} {:domain 7.037974683544304, :range 7.298139193856876} {:domain 7.151898734177215, :range 7.731610417735716} {:domain 7.265822784810127, :range 8.176140224201333} {:domain 7.379746835443038, :range 8.63089690927087} {:domain 7.493670886075949, :range 9.09504876896148} {:domain 7.607594936708861, :range 9.567764099290324} {:domain 7.7215189873417724, :range 10.048211196274535} {:domain 7.835443037974684, :range 10.535558355931279} {:domain 7.949367088607595, :range 11.028973874277693} {:domain 8.063291139240505, :range 11.527626047330935} {:domain 8.177215189873419, :range 12.030683171108171} {:domain 8.291139240506329, :range 12.537313541626524} {:domain 8.405063291139241, :range 13.046685454903164} {:domain 8.518987341772153, :range 13.557967206955235} {:domain 8.632911392405063, :range 14.070327093799879} {:domain 8.746835443037975, :range 14.582933411454269} {:domain 8.860759493670887, :range 15.09495445593554} {:domain 8.974683544303797, :range 15.605558523260838} {:domain 9.08860759493671, :range 16.113913909447326} {:domain 9.20253164556962, :range 16.619188910512147} {:domain 9.316455696202532, :range 17.120551822472464} {:domain 9.430379746835444, :range 17.617170941345414} {:domain 9.544303797468354, :range 18.108214563148145} {:domain 9.658227848101266, :range 18.592850983897822} {:domain 9.772151898734178, :range 19.070248499611594} {:domain 9.88607594936709, :range 19.539575406306604} {:domain 10.0, :range 20.0})}, :mark \\\"line\\\", :encoding {:x {:field \\\"domain\\\", :type \\\"quantitative\\\", :axis {:values (\\\"1.0\\\" \\\"2.0\\\" \\\"3.0\\\" \\\"4.0\\\" \\\"5.0\\\" \\\"6.0\\\" \\\"7.0\\\" \\\"8.0\\\" \\\"9.0\\\" \\\"10.0\\\")}}, :y {:field \\\"range\\\", :type \\\"quantitative\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->cont (s/with-data interpolated-scale :interpolator :shepard)))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:domain 1.0, :range -7.0} {:domain 1.1139240506329113, :range -6.862430143908082} {:domain 1.2278481012658227, :range -6.349366053629413} {:domain 1.3417721518987342, :range -5.347142666017579} {:domain 1.4556962025316456, :range -3.9170277348990314} {:domain 1.5696202531645569, :range -2.3809347836929238} {:domain 1.6835443037974684, :range -1.1393254165856102} {:domain 1.7974683544303798, :range -0.38396630725724973} {:domain 1.9113924050632911, :range -0.057604612422948585} {:domain 2.0253164556962027, :range -0.0035721246878902178} {:domain 2.1392405063291138, :range -0.08011594420740886} {:domain 2.2531645569620253, :range -0.1911625259544694} {:domain 2.367088607594937, :range -0.2788503421469748} {:domain 2.481012658227848, :range -0.3103349475412897} {:domain 2.5949367088607596, :range -0.2687043928109431} {:domain 2.708860759493671, :range -0.14846236034445334} {:domain 2.8227848101265822, :range 0.046160481036426775} {:domain 2.9367088607594938, :range 0.30193126366827266} {:domain 3.050632911392405, :range 0.5979031822256156} {:domain 3.1645569620253164, :range 0.908160318504037} {:domain 3.278481012658228, :range 1.205968972833581} {:domain 3.392405063291139, :range 1.4683474104512397} {:domain 3.5063291139240507, :range 1.6796670440326837} {:domain 3.620253164556962, :range 1.8332984490671829} {:domain 3.7341772151898733, :range 1.9311997235169598} {:domain 3.848101265822785, :range 1.98210029476394} {:domain 3.962025316455696, :range 1.9991786656435688} {:domain 4.075949367088608, :range 1.9979186170431986} {:domain 4.189873417721519, :range 1.994434737053598} {:domain 4.30379746835443, :range 2.004221978765116} {:domain 4.417721518987342, :range 2.041100973531062} {:domain 4.5316455696202524, :range 2.1161034166654447} {:domain 4.6455696202531644, :range 2.236152862982467} {:domain 4.759493670886076, :range 2.402633635601734} {:domain 4.8734177215189876, :range 2.610258860057412} {:domain 4.987341772151899, :range 2.846903447130777} {:domain 5.10126582278481, :range 3.0950164177455037} {:domain 5.215189873417722, :range 3.3346982967425145} {:domain 5.329113924050633, :range 3.547694988389598} {:domain 5.443037974683545, :range 3.72096904528983} {:domain 5.556962025316456, :range 3.848656837666701} {:domain 5.670886075949367, :range 3.9320285110866497} {:domain 5.784810126582278, :range 3.9779411249334746} {:domain 5.89873417721519, :range 3.996681667967124} {:domain 6.012658227848101, :range 3.9999721894695135} {:domain 6.126582278481013, :range 3.999534068476114} {:domain 6.240506329113924, :range 4.006268281480845} {:domain 6.354430379746835, :range 4.029922436856791} {:domain 6.468354430379747, :range 4.0790659735294685} {:domain 6.582278481012658, :range 4.16121945700184} {:domain 6.69620253164557, :range 4.283030779980814} {:domain 6.810126582278481, :range 4.450433672099979} {:domain 6.924050632911392, :range 4.668754045380014} {:domain 7.037974683544304, :range 4.942748164139614} {:domain 7.151898734177215, :range 5.27656708660961} {:domain 7.265822784810127, :range 5.6736479499306265} {:domain 7.379746835443038, :range 6.1365372574399775} {:domain 7.493670886075949, :range 6.666656215494708} {:domain 7.607594936708861, :range 7.264024338503036} {:domain 7.7215189873417724, :range 7.926965174807144} {:domain 7.835443037974684, :range 8.651826452894278} {:domain 7.949367088607595, :range 9.432754697192367} {:domain 8.063291139240505, :range 10.26156914272277} {:domain 8.177215189873419, :range 11.127778919913707} {:domain 8.291139240506329, :range 12.018778634848955} {:domain 8.405063291139241, :range 12.920239585078674} {:domain 8.518987341772153, :range 13.816688127389295} {:domain 8.632911392405063, :range 14.692233060619262} {:domain 8.746835443037975, :range 15.531376438948493} {:domain 8.860759493670887, :range 16.319823803777503} {:domain 8.974683544303797, :range 17.04520570611319} {:domain 9.08860759493671, :range 17.69763436688974} {:domain 9.20253164556962, :range 18.27004482571864} {:domain 9.316455696202532, :range 18.758302827967178} {:domain 9.430379746835444, :range 19.161094371825623} {:domain 9.544303797468354, :range 19.479637606251295} {:domain 9.658227848101266, :range 19.717272703913217} {:domain 9.772151898734178, :range 19.878988801792303} {:domain 9.88607594936709, :range 19.9709411753303} {:domain 10.0, :range 20.0})}, :mark \\\"line\\\", :encoding {:x {:field \\\"domain\\\", :type \\\"quantitative\\\", :axis {:values (\\\"1.0\\\" \\\"2.0\\\" \\\"3.0\\\" \\\"4.0\\\" \\\"5.0\\\" \\\"6.0\\\" \\\"7.0\\\" \\\"8.0\\\" \\\"9.0\\\" \\\"10.0\\\")}}, :y {:field \\\"range\\\", :type \\\"quantitative\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->cont (s/with-data interpolated-scale :interpolator :loess :interpolator-params [0.7 2])))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:domain 1.0, :range -7.000000000000005} {:domain 1.1139240506329113, :range -6.0820543608112185} {:domain 1.2278481012658227, :range -5.173613909997852} {:domain 1.3417721518987342, :range -4.284183835935323} {:domain 1.4556962025316456, :range -3.4232693269990544} {:domain 1.5696202531645569, :range -2.6003755715644656} {:domain 1.6835443037974684, :range -1.825007758006974} {:domain 1.7974683544303798, :range -1.1066710747020014} {:domain 1.9113924050632911, :range -0.4548707100249674} {:domain 2.0253164556962027, :range 0.12091596347202971} {:domain 2.1392405063291138, :range 0.6157281675486115} {:domain 2.2531645569620253, :range 1.0340764118051518} {:domain 2.367088607594937, :range 1.3816638092669005} {:domain 2.481012658227848, :range 1.6641934729591086} {:domain 2.5949367088607596, :range 1.8873685159070297} {:domain 2.708860759493671, :range 2.056892051135915} {:domain 2.8227848101265822, :range 2.178467191671016} {:domain 2.9367088607594938, :range 2.2577970505375844} {:domain 3.050632911392405, :range 2.3005847407608733} {:domain 3.1645569620253164, :range 2.312533375366133} {:domain 3.278481012658228, :range 2.2993460673786164} {:domain 3.392405063291139, :range 2.2667259298235747} {:domain 3.5063291139240507, :range 2.2203760757262603} {:domain 3.620253164556962, :range 2.1659996181119245} {:domain 3.7341772151898733, :range 2.109299670005819} {:domain 3.848101265822785, :range 2.0559793444331977} {:domain 3.962025316455696, :range 2.0117417544193095} {:domain 4.075949367088608, :range 1.9820083777782862} {:domain 4.189873417721519, :range 1.968926682994941} {:domain 4.30379746835443, :range 1.972531874470666} {:domain 4.417721518987342, :range 1.992823952205461} {:domain 4.5316455696202524, :range 2.029802916199326} {:domain 4.6455696202531644, :range 2.0834687664522615} {:domain 4.759493670886076, :range 2.1538215029642678} {:domain 4.8734177215189876, :range 2.2408611257353432} {:domain 4.987341772151899, :range 2.3445876347654893} {:domain 5.10126582278481, :range 2.4650010300547054} {:domain 5.215189873417722, :range 2.6021013116029925} {:domain 5.329113924050633, :range 2.755888479410349} {:domain 5.443037974683545, :range 2.9263625334767767} {:domain 5.556962025316456, :range 3.1135234738022737} {:domain 5.670886075949367, :range 3.3173713003868404} {:domain 5.784810126582278, :range 3.537906013230477} {:domain 5.89873417721519, :range 3.7751276123331863} {:domain 6.012658227848101, :range 4.029035989039404} {:domain 6.126582278481013, :range 4.299522813755966} {:domain 6.240506329113924, :range 4.586168458710738} {:domain 6.354430379746835, :range 4.888497664484954} {:domain 6.468354430379747, :range 5.2060351716598445} {:domain 6.582278481012658, :range 5.538305720816632} {:domain 6.69620253164557, :range 5.8848340525365535} {:domain 6.810126582278481, :range 6.24514490740083} {:domain 6.924050632911392, :range 6.618763025990694} {:domain 7.037974683544304, :range 7.005213148887378} {:domain 7.151898734177215, :range 7.404020016672105} {:domain 7.265822784810127, :range 7.814708369926109} {:domain 7.379746835443038, :range 8.236802949230613} {:domain 7.493670886075949, :range 8.669828495166852} {:domain 7.607594936708861, :range 9.113309748316054} {:domain 7.7215189873417724, :range 9.566771449259445} {:domain 7.835443037974684, :range 10.029738338578257} {:domain 7.949367088607595, :range 10.501735156853712} {:domain 8.063291139240505, :range 10.982286644667045} {:domain 8.177215189873419, :range 11.4709175425995} {:domain 8.291139240506329, :range 11.967152591232272} {:domain 8.405063291139241, :range 12.47051653114662} {:domain 8.518987341772153, :range 12.98053410292376} {:domain 8.632911392405063, :range 13.496730047144919} {:domain 8.746835443037975, :range 14.018629104391334} {:domain 8.860759493670887, :range 14.54575601524423} {:domain 8.974683544303797, :range 15.07763552028483} {:domain 9.08860759493671, :range 15.613792360094374} {:domain 9.20253164556962, :range 16.15375127525408} {:domain 9.316455696202532, :range 16.69703700634519} {:domain 9.430379746835444, :range 17.243174293948925} {:domain 9.544303797468354, :range 17.79168787864651} {:domain 9.658227848101266, :range 18.342102501019184} {:domain 9.772151898734178, :range 18.893942901648174} {:domain 9.88607594936709, :range 19.446733821114705} {:domain 10.0, :range 19.999999999999996})}, :mark \\\"line\\\", :encoding {:x {:field \\\"domain\\\", :type \\\"quantitative\\\", :axis {:values (\\\"1.0\\\" \\\"2.0\\\" \\\"3.0\\\" \\\"4.0\\\" \\\"5.0\\\" \\\"6.0\\\" \\\"7.0\\\" \\\"8.0\\\" \\\"9.0\\\" \\\"10.0\\\")}}, :y {:field \\\"range\\\", :type \\\"quantitative\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h2\" {:id \"Datetime%20scale%20(continuous%20-%3E%20continuous)\"} [:span \"Datetime scale (continuous -> continuous)\"]] [:p [:span \"This is linear scale which domain is a temporal interval and range is numerical. \"] [:a {:href \"https://github.com/dm3/clojure.java-time\"} [:span \"clojure.java-time\"]] [:span \" is used as a Java 8 datetime API. Any \"] [:code [:span \"java.time.temporal.Temporal\"]] [:span \" is supported.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def datetime-scale (s/scale :datetime {:domain [(dt/zoned-date-time 2001 10 20 4)\\n                                               (dt/zoned-date-time 2010 10 20 5)]\\n                                      :range [0 100]}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x22828920 \\\\\\\"datetime: [#object[java.time.ZonedDateTime 0xb4a56a5 \\\\\\\\\\\\\\\"2001-10-20T04:00+02:00[Europe/Warsaw]\\\\\\\\\\\\\\\"] #object[java.time.ZonedDateTime 0x7fec60e4 \\\\\\\\\\\\\\\"2010-10-20T05:00+02:00[Europe/Warsaw]\\\\\\\\\\\\\\\"]] -> [0 100] {:millis 284000400000.0M}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (cfg/default-params :datetime)                     ;; default domain and range\\n (s/scale :datetime)                                ;; default scale\\n (datetime-scale (dt/zoned-date-time 2002 10 20 4)) ;; forward scaling\\n (s/inverse datetime-scale 0.2)                     ;; inverse scaling\\n (s/ticks datetime-scale)                           ;; default ticks\\n (s/ticks datetime-scale 3)                         ;; 3 ticks\\n (s/format datetime-scale)                          ;; ticks after formatting\\n )\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :domain, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x35d09cfa \\\\\\\"2021-07-01T14:47:47.811817649\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 1 0]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x131eeffa \\\\\\\"2022-07-01T14:47:47.811817649\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :range, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\"}\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x38b53ab2 \\\\\\\"datetime: [#object[java.time.LocalDateTime 0x35d09cfa \\\\\\\\\\\\\\\"2021-07-01T14:47:47.811817649\\\\\\\\\\\\\\\"] #object[java.time.LocalDateTime 0x131eeffa \\\\\\\\\\\\\\\"2022-07-01T14:47:47.811817649\\\\\\\\\\\\\\\"]] -> [0.0 1.0] {:millis 31536000000.0M}\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 11.104209712380687, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.ZonedDateTime 0x673be0b0 \\\\\\\"2001-10-26T17:46:40.800+02:00[Europe/Warsaw]\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.ZonedDateTime 0x3076778c \\\\\\\"2001-11-01T00:00+01:00[Europe/Warsaw]\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 0]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.ZonedDateTime 0x68b232b \\\\\\\"2002-09-01T00:00+02:00[Europe/Warsaw]\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 1]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.ZonedDateTime 0x177af9e2 \\\\\\\"2003-07-01T00:00+02:00[Europe/Warsaw]\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 2]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.ZonedDateTime 0x2f7ca5dd \\\\\\\"2004-05-01T00:00+02:00[Europe/Warsaw]\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 3]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.ZonedDateTime 0x2cb57da9 \\\\\\\"2005-03-01T00:00+01:00[Europe/Warsaw]\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 4]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.ZonedDateTime 0x73f8916f \\\\\\\"2006-01-01T00:00+01:00[Europe/Warsaw]\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 5]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.ZonedDateTime 0x338dd31b \\\\\\\"2006-11-01T00:00+01:00[Europe/Warsaw]\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 6]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.ZonedDateTime 0x7915cafa \\\\\\\"2007-09-01T00:00+02:00[Europe/Warsaw]\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 7]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.ZonedDateTime 0x7ecab844 \\\\\\\"2008-07-01T00:00+02:00[Europe/Warsaw]\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 8]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.ZonedDateTime 0x498e2d1b \\\\\\\"2009-05-01T00:00+02:00[Europe/Warsaw]\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 9]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.ZonedDateTime 0x14c63a3a \\\\\\\"2010-03-01T00:00+01:00[Europe/Warsaw]\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 10]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.ZonedDateTime 0x43d36042 \\\\\\\"2002-01-01T00:00+01:00[Europe/Warsaw]\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 0]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.ZonedDateTime 0x68f0f8e4 \\\\\\\"2005-01-01T00:00+01:00[Europe/Warsaw]\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 1]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.ZonedDateTime 0x502ee614 \\\\\\\"2008-01-01T00:00+01:00[Europe/Warsaw]\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2001-11\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2002-09\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2003-07\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2004-05\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2005-03\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2006-01\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 5]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2006-11\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 6]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2007-09\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 7]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2008-07\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 8]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2009-05\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 9]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"2010-03\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 10]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def time-scale (s/with-domain datetime-scale [(dt/local-time 12)\\n                                             (dt/local-time 13)]))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x751c11c1 \\\\\\\"datetime: [#object[java.time.LocalDateTime 0x6e60fe53 \\\\\\\\\\\\\\\"2022-07-01T12:00\\\\\\\\\\\\\\\"] #object[java.time.LocalDateTime 0x3f4f3321 \\\\\\\\\\\\\\\"2022-07-01T13:00\\\\\\\\\\\\\\\"]] -> [0 100] {:millis 3600000.0M}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (time-scale (dt/local-time 12 13)) ;; forward scaling\\n (s/inverse time-scale 0.2)         ;; inverse scaling\\n (s/ticks time-scale)               ;; default ticks\\n (s/ticks time-scale 3)             ;; 3 ticks\\n (s/format time-scale)              ;; ticks after formatting\\n )\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 21.666666666666668, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x2d15be50 \\\\\\\"2022-07-01T12:00:07.200\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x42cd44ce \\\\\\\"2022-07-01T12:01\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 0]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x65f414c5 \\\\\\\"2022-07-01T12:07\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 1]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x70f393a3 \\\\\\\"2022-07-01T12:13\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 2]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x701454d3 \\\\\\\"2022-07-01T12:19\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 3]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x58d7952b \\\\\\\"2022-07-01T12:25\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 4]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x1d40e0c8 \\\\\\\"2022-07-01T12:31\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 5]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x71420648 \\\\\\\"2022-07-01T12:37\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 6]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x23a2767f \\\\\\\"2022-07-01T12:43\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 7]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x47b8c1ed \\\\\\\"2022-07-01T12:49\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 8]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x5de42f72 \\\\\\\"2022-07-01T12:55\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0 9]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0x3cf512c0 \\\\\\\"2022-07-01T12:01\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3 0 0]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0xcd48aaf \\\\\\\"2022-07-01T12:21\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3 0 1]} {:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[java.time.LocalDateTime 0xde29571 \\\\\\\"2022-07-01T12:41\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 3]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:01\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:07\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:13\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:19\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:25\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:31\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4 0 5]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:37\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4 0 6]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:43\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4 0 7]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:49\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4 0 8]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"12:55\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4 0 9]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1 4]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [true]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h2\" {:id \"Slicing%20data%20(continuous%20-%3E%20discrete)\"} [:span \"Slicing data (continuous -> discrete)\"]] [:p [:span \"This set of scales creates discrete points from slicing data or interval (as a domain) into smaller intervals. Following scales are defined:\"]] [:ul [:li [:<> [:span \"histogram\"]]] [:li [:<> [:span \"quantile\"]]] [:li [:<> [:span \"quantize\"]]] [:li [:<> [:span \"threshold\"]]]] [:p [:span \"Forward scaling by default returns interval id. If second (optional) parameter is set to true, a map with interval details is returned. Inverse scaling accepts interval id and also returns a map with interval info.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"Additionally \"] [:code [:span \"s/data\"]] [:span \" contains some internal interval information.\"]] [:p [:span \"Intervals are constructed following way. First is \"] [#viewer-eval v/inspect {:nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (v/katex-viewer tex {:inline? true}))}, :nextjournal/value \"(-\\\\infin,v_1)\"}] [:span \", second is \"] [#viewer-eval v/inspect {:nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (v/katex-viewer tex {:inline? true}))}, :nextjournal/value \"[v_1, v_2)\"}] [:span \", ..., and last is \"] [#viewer-eval v/inspect {:nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (v/katex-viewer tex {:inline? true}))}, :nextjournal/value \"[v_n,\\\\infin)\"}]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def data (map m/sq (repeatedly 150 rand))) \"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.6816521789592029, :path [0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.3462978099848621, :path [1]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.03875173821815289, :path [2]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.11416255422094981, :path [3]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.4421777272596048, :path [4]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.5543093783302637, :path [5]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.03501353856512212, :path [6]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.3299848715759255, :path [7]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.8249838838488929, :path [8]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.8877210044884714, :path [9]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.8144408234587462, :path [10]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.12158646492706739, :path [11]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.5131039903883902, :path [12]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.04871414086880764, :path [13]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.10374547231366876, :path [14]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.703859054187802, :path [15]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.07870565637476792, :path [16]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.6904715643399113, :path [17]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.49945660421658433, :path [18]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.04514869357989848, :path [19]} {:nextjournal/viewer {:name :elision, :render-fn #viewer-fn v/elision-viewer}, :nextjournal/value {:n 20, :path [], :total 150, :offset 20}}], :path []}\"}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Histogram\"} [:span \"Histogram\"]] [:p [:span \"Creates histogram bins from a data. \"] [:code [:span \":range\"]] [:span \" can be used to define number of bins or a method of estimation (one of: \"] [:code [:span \":sqrt\"]] [:span \", \"] [:code [:span \":sturges\"]] [:span \", \"] [:code [:span \":rice\"]] [:span \", \"] [:code [:span \":doane\"]] [:span \", \"] [:code [:span \":scott\"]] [:span \" or \"] [:code [:span \":freedman-diaconis\"]] [:span \" same as \"] [:code [:span \":default\"]] [:span \").\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(defn bin-intervals\\n  \\\"Create intervals from histogram data\\\"\\n  [scale]\\n  (-> (map first (-> scale (s/data :bins)))\\n      vec (conj (-> scale s/domain s/extent last))\\n      (->> (partition 2 1))))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#function[index/bin-intervals]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def histogram-scale (s/scale :histogram {:domain data}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x7101a400 \\\\\\\"histogram: [D@3cc03a8b -> [0 1 2 3 4 5] {:bins ([6.145928513206887E-5 51] [0.163631686621382 28] [0.32720191395763193 28] [0.49077214129388186 9] [0.6543423686301317 17] [0.8179125959663817 17])}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->discrete histogram-scale bin-intervals))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:y 0, :x1 4.502336554084323E-5, :x2 0.16488269100105207} {:y 1, :x1 0.16488269100105207, :x2 0.3297203586365633} {:y 2, :x1 0.3297203586365633, :x2 0.49455802627207457} {:y 3, :x1 0.49455802627207457, :x2 0.6593956939075857} {:y 4, :x1 0.6593956939075857, :x2 0.824233361543097} {:y 5, :x1 0.824233361543097, :x2 0.9890710291786082})}, :mark \\\"bar\\\", :encoding {:y {:field \\\"y\\\", :type \\\"ordinal\\\"}, :x {:field \\\"x1\\\", :type \\\"quantitative\\\"}, :x2 {:field \\\"x2\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (s/range histogram-scale)            ;; calculated range, bins\\n (s/domain histogram-scale)           ;; original data, here as java array\\n (histogram-scale 0.5)                ;; returns bin id\\n (histogram-scale 0.5 true)           ;; returns additional data about bin\\n (s/inverse histogram-scale 2)        ;; same as above, returns bin data\\n (s/ticks histogram-scale)            ;; default ticks, same as range\\n (s/ticks histogram-scale 3)          ;; 3 ticks\\n (s/data histogram-scale)             ;; bins data [start point,  bin count]\\n )          \"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 2, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 3, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 4, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 5]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[\\\\\\\"[D\\\\\\\" 0x65f6cbf2 \\\\\\\"[D@65f6cbf2\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 3, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :count, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 14, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 0]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :dend, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.6593956939075857, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 1]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :dstart, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.49455802627207457, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 2]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :id, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 3 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 3, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 3 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 3]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :value, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 4 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 3, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 4 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 4]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :count, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 20, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 0]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :dend, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.49455802627207457, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 1]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :dstart, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.3297203586365633, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 2]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :id, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 3 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 2, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 3 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 3]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :value, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 4 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 2, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 4 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 4]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 2, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 3, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 4, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 5]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 2, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 4, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :bins, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 4.502336554084323E-5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 54, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.16488269100105207, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 29, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 1]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.3297203586365633, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 20, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.49455802627207457, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 3 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 14, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 3 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 3]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.6593956939075857, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 4 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 18, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 4 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 4]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\" \\\")\\\" \\\"}\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.824233361543097, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 5 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 15, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 5 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 5]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"Different bin sizes\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(bin-intervals (s/with-range histogram-scale :sturges))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 4.502336554084323E-5, :path [0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.10993680178921499, :path [0 1]}], :path [0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.10993680178921499, :path [1 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.21982858021288915, :path [1 1]}], :path [1]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.21982858021288915, :path [2 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.3297203586365633, :path [2 1]}], :path [2]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.3297203586365633, :path [3 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.43961213706023744, :path [3 1]}], :path [3]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.43961213706023744, :path [4 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.5495039154839116, :path [4 1]}], :path [4]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.5495039154839116, :path [5 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.6593956939075857, :path [5 1]}], :path [5]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.6593956939075857, :path [6 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.7692874723312599, :path [6 1]}], :path [6]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.7692874723312599, :path [7 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.879179250754934, :path [7 1]}], :path [7]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\" \\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.879179250754934, :path [8 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.9890710291786082, :path [8 1]}], :path [8]}], :path []}\"}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(bin-intervals (s/with-range histogram-scale 12))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 4.502336554084323E-5, :path [0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.08246385718329645, :path [0 1]}], :path [0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.08246385718329645, :path [1 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.16488269100105207, :path [1 1]}], :path [1]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.16488269100105207, :path [2 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.2473015248188077, :path [2 1]}], :path [2]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.2473015248188077, :path [3 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.3297203586365633, :path [3 1]}], :path [3]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.3297203586365633, :path [4 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.41213919245431896, :path [4 1]}], :path [4]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.41213919245431896, :path [5 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.49455802627207457, :path [5 1]}], :path [5]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.49455802627207457, :path [6 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.5769768600898302, :path [6 1]}], :path [6]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.5769768600898302, :path [7 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.6593956939075857, :path [7 1]}], :path [7]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.6593956939075857, :path [8 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.7418145277253414, :path [8 1]}], :path [8]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.7418145277253414, :path [9 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.824233361543097, :path [9 1]}], :path [9]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.824233361543097, :path [10 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.9066521953608526, :path [10 1]}], :path [10]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\" \\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.9066521953608526, :path [11 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.9890710291786082, :path [11 1]}], :path [11]}], :path []}\"}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Quantized%20data\"} [:span \"Quantized data\"]] [:p [:span \"It's actually the same as \"] [:code [:span \":histogram\"]] [:span \" with the difference in \"] [:code [:span \"range\"]] [:span \" which is a list of bin names.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(defn quantize-intervals\\n  [scale]\\n  (let [[start end] (s/extent (s/domain scale))]\\n    (-> scale (s/data :thresholds)\\n        (conj start) vec (conj end)\\n        (->> (partition 2 1)))))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#function[index/quantize-intervals]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def quantize-scale (s/scale :quantize {:domain data\\n                                      :range [:a :b :c \\\"fourth\\\" 5 ::last]}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x4ddfb411 \\\\\\\"quantize: [6.145928513206887E-5 0.9814828233026316] -> [:a :b :c \\\\\\\\\\\\\\\"fourth\\\\\\\\\\\\\\\" 5 :index/last] {:thresholds (0.163631686621382 0.32720191395763193 0.49077214129388186 0.6543423686301317 0.8179125959663817)}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->discrete quantize-scale quantize-intervals))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:y :a, :x1 4.502336554084323E-5, :x2 0.16488269100105207} {:y :b, :x1 0.16488269100105207, :x2 0.3297203586365633} {:y :c, :x1 0.3297203586365633, :x2 0.49455802627207457} {:y \\\"fourth\\\", :x1 0.49455802627207457, :x2 0.6593956939075857} {:y 5, :x1 0.6593956939075857, :x2 0.824233361543097} {:y :index/last, :x1 0.824233361543097, :x2 0.9890710291786082})}, :mark \\\"bar\\\", :encoding {:y {:field \\\"y\\\", :type \\\"ordinal\\\"}, :x {:field \\\"x1\\\", :type \\\"quantitative\\\"}, :x2 {:field \\\"x2\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (s/range quantize-scale)            ;; range, bin names\\n (s/domain quantize-scale)           ;; interval (from data)\\n (quantize-scale 0.5)                ;; returns bin name\\n (quantize-scale 0.5 true)           ;; returns additional data about bin\\n (s/inverse quantize-scale :b)       ;; same as above, returns bin data\\n (s/ticks quantize-scale)            ;; default ticks, same as range\\n (s/ticks quantize-scale 3)          ;; 3 ticks\\n (s/data quantize-scale)             ;; interval start points\\n )          \"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :a, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :b, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :c, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"fourth\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :index/last, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 5]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 4.502336554084323E-5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.9890710291786082, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"fourth\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :dend, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.6593956939075857, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 0]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :dstart, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.49455802627207457, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 1]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :id, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 3, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 2]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :value, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 3 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"fourth\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 3 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :dend, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.3297203586365633, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 0]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :dstart, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.16488269100105207, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 1]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :id, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 2]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :value, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 3 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :b, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 3 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :a, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :b, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :c, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"fourth\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :index/last, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 5]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :a, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :c, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :thresholds, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\" \\\"}\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.16488269100105207, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.3297203586365633, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.49455802627207457, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.6593956939075857, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.824233361543097, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1 4]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Thresholds\"} [:span \"Thresholds\"]] [:p [:span \"Domain should contain values which define interval endpoints. Each interval is assigned to a given range value.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def threshold-scale (s/scale :threshold {:domain [0 1 4 5 9]\\n                                        :range [:a :b :c \\\"fourth\\\" 5 ::last]}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x540ff9c6 \\\\\\\"threshold: [0 1 4 5 9] -> [:a :b :c \\\\\\\\\\\\\\\"fourth\\\\\\\\\\\\\\\" 5 :index/last] {}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (s/range threshold-scale)            ;; range, interval names\\n (s/domain threshold-scale)           ;; interval start/end points\\n (threshold-scale 4.5)                ;; returns interval name\\n (threshold-scale 4.5 true)           ;; returns additional data about interval\\n (s/inverse threshold-scale :b)       ;; same as above, returns bin data\\n (s/ticks threshold-scale)            ;; default ticks, same as range\\n (s/ticks threshold-scale 3)          ;; 3 ticks\\n (s/data threshold-scale)             ;; interval start points\\n )          \"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :a, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :b, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :c, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"fourth\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :index/last, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 5]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 4, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 9, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0 4]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"fourth\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :dend, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 0]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :dstart, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 4, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 1]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :id, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 3, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 2]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :value, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 3 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"fourth\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 3 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :dend, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 0]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :dstart, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 1]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :id, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 2]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :value, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 3 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :b, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 3 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :a, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :b, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :c, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"fourth\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 4]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :index/last, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0 5]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :a, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :c, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 2]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}, :nextjournal/value [], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h3\" {:id \"Quantiles\"} [:span \"Quantiles\"]] [:p [:span \"Divides data by quantiles (\"] [:code [:span \":range\"]] [:span \"). \"] [:code [:span \":estimation-strategy\"]] [:span \" can be either \"] [:code [:span \":legacy\"]] [:span \" (\"] [:a {:href \"https://commons.apache.org/proper/commons-math/javadocs/api-3.6/org/apache/commons/math3/stat/descriptive/rank/Percentile.html\"} [:span \"method description\"]] [:span \") or one from \"] [:code [:span \":r1\"]] [:span \" to \"] [:code [:span \":r9\"]] [:span \" (\"] [:a {:href \"https://en.wikipedia.org/wiki/Quantile#Estimating_quantiles_from_a_sample\"} [:span \"estimation strategies\"]] [:span \")\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(defn quantile-intervals\\n  \\\"Create intervals from quantile scale data.\\\"\\n  [scale]\\n  (let [[start end] (s/extent (s/domain scale))]\\n    (-> (map first (-> scale\\n                       (s/data :quantiles)))\\n        (conj start) vec (conj end)\\n        (->> (partition 2 1)))))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#function[index/quantile-intervals]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def quantile-scale (s/scale :quantile {:domain data}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x28d276e3 \\\\\\\"quantile: [D@3793aca5 -> (0.25 0.5 0.75 1.0) {:estimation-strategy :legacy, :quantiles ([0.10348711303362873 0.25] [0.3110169255164665 0.5] [0.604953988396205 0.75])}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl (cont->discrete quantile-scale quantile-intervals))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 400, :height 200, :data {:values ({:y 0.25, :x1 4.502336554084323E-5, :x2 0.1033613692010398} {:y 0.5, :x1 0.1033613692010398, :x2 0.2887708073594469} {:y 0.75, :x1 0.2887708073594469, :x2 0.5815365394113812} {:y 1.0, :x1 0.5815365394113812, :x2 0.9890710291786082})}, :mark \\\"bar\\\", :encoding {:y {:field \\\"y\\\", :type \\\"ordinal\\\"}, :x {:field \\\"x1\\\", :type \\\"quantitative\\\"}, :x2 {:field \\\"x2\\\"}}}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (s/range quantile-scale)            ;; calculated range, bins\\n (s/domain quantile-scale)           ;; original data, here as java array\\n (quantile-scale 0.5)                ;; returns bin id\\n (quantile-scale 0.5 true)           ;; returns additional data about bin\\n (quantile-scale 0.9 true)          \\n (s/inverse quantile-scale 2)        ;; same as above, return bin data\\n (s/ticks quantile-scale)            ;; default ticks, same as range\\n (s/ticks quantile-scale 2)          ;; 2 ticks\\n )          \"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.25, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.75, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[\\\\\\\"[D\\\\\\\" 0x7ba89150 \\\\\\\"[D@7ba89150\\\\\\\"]\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.75, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :count, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 38, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 0]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :dend, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.5815365394113812, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 1]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :dstart, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.2887708073594469, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 2]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :quantile, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 3 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.75, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 3 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 3]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :value, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 4 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.75, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 4 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0 4]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :count, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 37, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 0]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :dend, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 1 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.9890710291786082, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 1 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 1]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :dstart, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 2 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.5815365394113812, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 2 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 2]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :quantile, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 3 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 3 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 3]} {:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :value, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 4 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 4 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0 4]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 4]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.cmt-default.inspected-value \\\"nil\\\"]))}, :nextjournal/value nil, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 5]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.25, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.5, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.75, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 2]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 1.0, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 6]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.25, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.tabular-nums (if (js/Number.isNaN x) \\\"NaN\\\" (str x))]))}, :nextjournal/value 0.75, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0 1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 7]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [:p [:span \"10 quantiles with R7 strategy\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(-> quantile-scale\\n    (s/with-range [0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9])\\n    (s/with-data :estimation-strategy :r7)\\n    quantile-intervals)\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 4.502336554084323E-5, :path [0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.0333198346252631, :path [0 1]}], :path [0]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.0333198346252631, :path [1 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.07960531826250368, :path [1 1]}], :path [1]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.07960531826250368, :path [2 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.13800656318772722, :path [2 1]}], :path [2]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.13800656318772722, :path [3 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.19608530101364827, :path [3 1]}], :path [3]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.19608530101364827, :path [4 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.2887708073594469, :path [4 1]}], :path [4]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.2887708073594469, :path [5 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.4073371273824485, :path [5 1]}], :path [5]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.4073371273824485, :path [6 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.5063262802575157, :path [6 1]}], :path [6]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.5063262802575157, :path [7 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.6691368862883816, :path [7 1]}], :path [7]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.6691368862883816, :path [8 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.8206599861491359, :path [8 1]}], :path [8]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\" \\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.8206599861491359, :path [9 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0.9890710291786082, :path [9 1]}], :path [9]}], :path []}\"}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h2\" {:id \"Bands%20(discrete%20-%3E%20continuous)\"} [:span \"Bands (discrete -> continuous)\"]] [:p [:span \"Bands scale maps a discrete value from a domain to a numerical value within assigned interval from a range.\"]] [:p [:span \"Intervals (bands) are created by slicing a range and shrinking them with padding parameters. \"] [:code [:span \"padding-out\"]] [:span \" controls outer gaps, \"] [:code [:span \"padding-in\"]] [:span \" controls gaps between bands. \"] [:code [:span \"align\"]] [:span \" controls position of the representative point inside a band. Values should be from \"] [:code [:span \"0.0\"]] [:span \" (no padding, left alignment) to \"] [:code [:span \"1.0\"]] [:span \" (full padding, right alignment).\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def bands-scale (s/scale :bands {:domain (range 5)\\n                                :range [-5.0 5.0]}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x4be7dd08 \\\\\\\"bands: (0 1 2 3 4) -> [-5.0 5.0] {:padding-in 0.0, :padding-out 0.0, :align 0.5, :bandwidth 2.0, :step 2.0, :bands ({:value 0, :rstart -5.0, :rend -3.0, :point -4.0} {:value 1, :rstart -3.0, :rend -1.0, :point -1.9999999999999996} {:value 2, :rstart -1.0, :rend 1.0000000000000009, :point 0.0} {:value 3, :rstart 1.0000000000000009, :rend 3.0, :point 2.000000000000001} {:value 4, :rstart 3.0, :rend 5.0, :point 4.0})}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(clerk/vl\\n (bands-chart [(s/with-data bands-scale :name \\\"padding: 0, align: 0.5, default\\\")\\n               (s/with-data bands-scale :name \\\"padding-out: 0.4\\\" :padding-out 0.4)\\n               (s/with-data bands-scale :name \\\"padding-in: 0.4\\\" :padding-in 0.4)\\n               (s/with-data bands-scale :name \\\"padding: 0.8\\\" :padding-out 0.8 :padding-in 0.8)\\n               (s/with-data bands-scale :name \\\"padding: 0.1\\\" :padding-out 0.1 :padding-in 0.1)\\n               (s/with-data bands-scale :name \\\"align: 0.2, padding: 0.1\\\" :padding-out 0.1 :padding-in 0.1 :align 0.2)\\n               (s/with-data bands-scale :name \\\"align: 0.8, padding: 0.1\\\" :padding-out 0.1 :padding-in 0.1 :align 0.8)]))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :vega-lite, :render-fn #viewer-fn v/vega-lite-viewer}, :nextjournal/value {:mode \\\"vega-lite\\\", :width 500, :height 200, :data {:values ({:value 0, :rstart -5.0, :rend -3.0, :point -4.0, :name \\\"padding: 0, align: 0.5, default\\\"} {:value 1, :rstart -3.0, :rend -1.0, :point -1.9999999999999996, :name \\\"padding: 0, align: 0.5, default\\\"} {:value 2, :rstart -1.0, :rend 1.0000000000000009, :point 0.0, :name \\\"padding: 0, align: 0.5, default\\\"} {:value 3, :rstart 1.0000000000000009, :rend 3.0, :point 2.000000000000001, :name \\\"padding: 0, align: 0.5, default\\\"} {:value 4, :rstart 3.0, :rend 5.0, :point 4.0, :name \\\"padding: 0, align: 0.5, default\\\"} {:value 0, :rstart -4.310344827586206, :rend -2.5862068965517238, :point -3.4482758620689653, :name \\\"padding-out: 0.4\\\"} {:value 1, :rstart -2.5862068965517238, :rend -0.8620689655172411, :point -1.7241379310344822, :name \\\"padding-out: 0.4\\\"} {:value 2, :rstart -0.8620689655172411, :rend 0.862068965517242, :point 0.0, :name \\\"padding-out: 0.4\\\"} {:value 3, :rstart 0.862068965517242, :rend 2.586206896551725, :point 1.724137931034484, :name \\\"padding-out: 0.4\\\"} {:value 4, :rstart 2.586206896551725, :rend 4.310344827586208, :point 3.448275862068966, :name \\\"padding-out: 0.4\\\"} {:value 0, :rstart -5.0, :rend -3.6956521739130435, :point -4.3478260869565215, :name \\\"padding-in: 0.4\\\"} {:value 1, :rstart -2.826086956521739, :rend -1.5217391304347827, :point -2.1739130434782608, :name \\\"padding-in: 0.4\\\"} {:value 2, :rstart -0.6521739130434776, :rend 0.6521739130434785, :point 0.0, :name \\\"padding-in: 0.4\\\"} {:value 3, :rstart 1.5217391304347831, :rend 2.8260869565217392, :point 2.1739130434782616, :name \\\"padding-in: 0.4\\\"} {:value 4, :rstart 3.695652173913045, :rend 5.0, :point 4.3478260869565215, :name \\\"padding-in: 0.4\\\"} {:value 0, :rstart -3.6206896551724137, :rend -3.275862068965517, :point -3.4482758620689653, :name \\\"padding: 0.8\\\"} {:value 1, :rstart -1.8965517241379306, :rend -1.5517241379310338, :point -1.7241379310344818, :name \\\"padding: 0.8\\\"} {:value 2, :rstart -0.1724137931034475, :rend 0.1724137931034484, :point 0.0, :name \\\"padding: 0.8\\\"} {:value 3, :rstart 1.5517241379310356, :rend 1.8965517241379315, :point 1.724137931034484, :name \\\"padding: 0.8\\\"} {:value 4, :rstart 3.275862068965518, :rend 3.6206896551724146, :point 3.448275862068966, :name \\\"padding: 0.8\\\"} {:value 0, :rstart -4.803921568627451, :rend -3.03921568627451, :point -3.9215686274509807, :name \\\"padding: 0.1\\\"} {:value 1, :rstart -2.8431372549019613, :rend -1.0784313725490202, :point -1.9607843137254912, :name \\\"padding: 0.1\\\"} {:value 2, :rstart -0.882352941176471, :rend 0.8823529411764692, :point -8.881784197001252E-16, :name \\\"padding: 0.1\\\"} {:value 3, :rstart 1.0784313725490193, :rend 2.8431372549019596, :point 1.9607843137254903, :name \\\"padding: 0.1\\\"} {:value 4, :rstart 3.0392156862745097, :rend 4.80392156862745, :point 3.9215686274509807, :name \\\"padding: 0.1\\\"} {:value 0, :rstart -4.803921568627451, :rend -3.03921568627451, :point -4.450980392156863, :name \\\"align: 0.2, padding: 0.1\\\"} {:value 1, :rstart -2.8431372549019613, :rend -1.0784313725490202, :point -2.490196078431373, :name \\\"align: 0.2, padding: 0.1\\\"} {:value 2, :rstart -0.882352941176471, :rend 0.8823529411764692, :point -0.5294117647058831, :name \\\"align: 0.2, padding: 0.1\\\"} {:value 3, :rstart 1.0784313725490193, :rend 2.8431372549019596, :point 1.4313725490196072, :name \\\"align: 0.2, padding: 0.1\\\"} {:value 4, :rstart 3.0392156862745097, :rend 4.80392156862745, :point 3.3921568627450966, :name \\\"align: 0.2, padding: 0.1\\\"} {:value 0, :rstart -4.803921568627451, :rend -3.03921568627451, :point -3.3921568627450984, :name \\\"align: 0.8, padding: 0.1\\\"} {:value 1, :rstart -2.8431372549019613, :rend -1.0784313725490202, :point -1.431372549019608, :name \\\"align: 0.8, padding: 0.1\\\"} {:value 2, :rstart -0.882352941176471, :rend 0.8823529411764692, :point 0.5294117647058814, :name \\\"align: 0.8, padding: 0.1\\\"} {:value 3, :rstart 1.0784313725490193, :rend 2.8431372549019596, :point 2.4901960784313717, :name \\\"align: 0.8, padding: 0.1\\\"} {:value 4, :rstart 3.0392156862745097, :rend 4.80392156862745, :point 4.450980392156861, :name \\\"align: 0.8, padding: 0.1\\\"})}, :encoding {:y {:field \\\"name\\\", :axis {:title nil}}, :x {:type \\\"quantitative\\\", :axis {:title nil}}}, :layer [{:mark \\\"rule\\\", :encoding {:x {:field \\\"rstart\\\"}, :x2 {:field \\\"rend\\\"}}} {:mark {:type \\\"circle\\\", :stroke \\\"green\\\", :opacity 0.9}, :encoding {:x {:field \\\"point\\\"}}}]}, :path []}\", :nextjournal/viewer {:name :vega-lite}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h2\" {:id \"Ordinal%20(discrete%20-%3E%20discrete)\"} [:span \"Ordinal (discrete -> discrete)\"]] [:p [:span \"Maps values from domain to a range.\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def ordinal-scale (s/scale :ordinal {:domain [:a :b \\\"11\\\" 0]\\n                                    :range [-3 :some-key [2 3] {:a -11}]}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x600ddc7b \\\\\\\"ordinal: [:a :b \\\\\\\\\\\\\\\"11\\\\\\\\\\\\\\\" 0] -> [-3 :some-key [2 3] {:a -11}] {}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(map ordinal-scale [0 :a :b \\\"11\\\" :other-key])\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:name :map, :render-fn #viewer-fn v/map-viewer, :opening-paren \\\"{\\\", :closing-paren (\\\"}\\\"), :fetch-opts {:n 10}}, :nextjournal/value [{:nextjournal/viewer {:name :map-entry, :render-fn #viewer-fn (fn [xs opts] (v/html (into [:<>] (comp (v/inspect-children opts) (interpose \\\" \\\")) xs))), :fetch-opts {:n 2}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :a, :path [0 0 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value -11, :path [0 0 1]}], :path [0 0]}], :path [0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value -3, :path [1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :some-key, :path [2]} {:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"[\\\", :closing-paren (\\\"]\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 2, :path [3 0]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 3, :path [3 1]}], :path [3]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.cmt-default.inspected-value \\\"nil\\\"]))}, :nextjournal/value nil, :path [4]}], :path []}\"}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(map (partial s/inverse ordinal-scale) [0 -3 :some-key [2 3] {:a -11}])\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:render-fn #viewer-fn v/coll-viewer, :opening-paren \\\"(\\\", :closing-paren (\\\")\\\"), :fetch-opts {:n 20}}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [_] (v/html [:span.cmt-default.inspected-value \\\"nil\\\"]))}, :nextjournal/value nil, :path [0]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :a, :path [1]} {:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :b, :path [2]} {:nextjournal/viewer {:render-fn #viewer-fn v/quoted-string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"11\\\", :path [3]} {:nextjournal/viewer {:render-fn #viewer-fn v/number-viewer}, :nextjournal/value 0, :path [4]}], :path []}\"}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h2\" {:id \"Constant\"} [:span \"Constant\"]] [:p [:span \"Constant scale just maps domain value into range value (and back for inverse).\"]]]}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(def constant-scale (s/scale :constant {:domain \\\"any domain value\\\"\\n                                      :range :any-range-value}))\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :read+inspect, :render-fn #viewer-fn (fn [x] (try (v/html [v/inspect-paginated (v/read-string x)]) (catch js/Error _e (v/unreadable-edn-viewer x))))}, :nextjournal/value \\\"#object[wadogo.common.ScaleType 0x5b53dbf7 \\\\\\\"constant: any domain value -> :any-range-value {}\\\\\\\"]\\\", :path []}\", :nextjournal/viewer {:name :read+inspect}}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :code, :render-fn #viewer-fn v/code-viewer}, :nextjournal/value \"(->table\\n (s/range constant-scale)\\n (s/domain constant-scale)\\n (constant-scale :in)           ;; always returns range\\n (s/inverse constant-scale 0)   ;; always returns domain\\n )\"}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :clerk/result, :render-fn #viewer-fn v/result-viewer}, :nextjournal/value {:nextjournal/edn \"{:nextjournal/viewer {:name :table/markup, :render-fn #viewer-fn (fn [head+body opts] (v/html (into [:table.text-xs.sans-serif.text-gray-900.dark:text-white.not-prose] (v/inspect-children opts) head+body)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/head, :render-fn #viewer-fn (fn [header-row {:as opts, :keys [path number-col?]}] (v/html [:thead.border-b.border-gray-300.dark:border-slate-700 (into [:tr] (map-indexed (fn [i {:as header-cell, :nextjournal/keys [value]}] (let [title (when (or (string? value) (keyword? value) (symbol? value)) value)] [:th.relative.pl-6.pr-2.py-1.align-bottom.font-medium (cond-> {:class (when (number-col? i) \\\"text-right\\\")} title (assoc :title title)) [:div.flex.items-center (v/inspect opts header-cell)]]))) header-row)]))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"results\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [0]} {:nextjournal/viewer {:name :table/body, :fetch-opts {:n 20}, :render-fn #viewer-fn (fn [rows opts] (v/html (into [:tbody] (map-indexed (fn [idx row] (v/inspect (update opts :path conj idx) row))) rows)))}, :nextjournal/value [{:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :any-range-value, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 0]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"any domain value\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 1]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn (fn [x] (v/html [:span.cmt-atom.inspected-value (str x)]))}, :nextjournal/value :any-range-value, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 2]} {:nextjournal/viewer {:name :table/row, :render-fn #viewer-fn (fn [row {:as opts, :keys [path number-col?]}] (v/html (into [:tr.hover:bg-gray-200.dark:hover:bg-slate-700 {:class (if (even? (peek path)) \\\"bg-black/5 dark:bg-gray-800\\\" \\\"bg-white dark:bg-gray-900\\\")}] (map-indexed (fn [idx cell] [:td.pl-6.pr-2.py-1 (when (number-col? idx) {:class \\\"text-right\\\"}) (v/inspect opts cell)])) row)))}, :nextjournal/value [{:nextjournal/viewer {:render-fn #viewer-fn v/string-viewer, :fetch-opts {:n 80}}, :nextjournal/value \\\"any domain value\\\", :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3 0]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1 3]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path [1]}], :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}\", :nextjournal/viewer {:name :table/markup}}, :nextjournal/width :wide, :nextjournal/opts {:num-cols 1, :number-col? [false]}, :path []}] [#viewer-eval v/inspect {:nextjournal/viewer {:name :html-, :render-fn #viewer-fn v/html}, :nextjournal/value [:div.viewer-markdown [\"h2\" {:id \"Source%20code\"} [:span \"Source code\"]] [:p [:a {:href \"https://clojars.org/org.scicloj/wadogo\"} [#viewer-eval v/inspect {:nextjournal/viewer {:name :html, :render-fn #viewer-fn v/html}, :nextjournal/value [:img.inline {:src \"https://img.shields.io/clojars/v/org.scicloj/wadogo.svg\", :alt \"\"}]}]]] [:p [:span \"Source code is available on \"] [:a {:href \"https://github.com/scicloj/wadogo\"} [:span \"github\"]] [:span \".\"]]]}]], :toc {:type :toc, :children [{:type :toc, :content [{:type :text, :text \"Wadogo scales\"}], :heading-level 1, :children [{:type :toc, :content [{:type :text, :text \"Scales\"}], :heading-level 2} {:type :toc, :content [{:type :text, :text \"Basics\"}], :heading-level 2, :children [{:type :toc, :content [{:type :text, :text \"Scaling\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Fields\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Size\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Updating scale\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Ticks\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Formatting\"}], :heading-level 3, :children [{:type :toc, :content [{:type :text, :text \"Formatting numbers\"}], :heading-level 4} {:type :toc, :content [{:type :text, :text \"Datetime\"}], :heading-level 4}]} {:type :toc, :content [{:type :text, :text \"Other\"}], :heading-level 3}]} {:type :toc, :content [{:type :text, :text \"Numerical scales (continuous -> continuous)\"}], :heading-level 2, :children [{:type :toc, :content [{:type :text, :text \"Linear scale\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Logarithmic scale\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Symmetric log scale\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Power scale\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Interpolated scale\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Other interpolators\"}], :heading-level 3}]} {:type :toc, :content [{:type :text, :text \"Datetime scale (continuous -> continuous)\"}], :heading-level 2} {:type :toc, :content [{:type :text, :text \"Slicing data (continuous -> discrete)\"}], :heading-level 2, :children [{:type :toc, :content [{:type :text, :text \"Histogram\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Quantized data\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Thresholds\"}], :heading-level 3} {:type :toc, :content [{:type :text, :text \"Quantiles\"}], :heading-level 3}]} {:type :toc, :content [{:type :text, :text \"Bands (discrete -> continuous)\"}], :heading-level 2} {:type :toc, :content [{:type :text, :text \"Ordinal (discrete -> discrete)\"}], :heading-level 2} {:type :toc, :content [{:type :text, :text \"Constant\"}], :heading-level 2} {:type :toc, :content [{:type :text, :text \"Source code\"}], :heading-level 2}]}], :mode :collapsed}, :title \"Wadogo scales\", :scope {:namespace :index}}, :path []}}, :path->url {\"index.clj\" \"\"}}")
app.init(opts)
</script></body></html>